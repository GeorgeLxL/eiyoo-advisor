var ke=Object.defineProperty;var Ne=(p,a,i)=>a in p?ke(p,a,{enumerable:!0,configurable:!0,writable:!0,value:i}):p[a]=i;var c=(p,a,i)=>(Ne(p,typeof a!="symbol"?a+"":a,i),i);import{j as ne,r as d,L as S,a as D,u as X,O as De,b as Y,h as oe,N as $,B as ye,c as Se,R as Fe,d as xe}from"./vendor.3174550d.js";const Me=function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function i(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerpolicy&&(s.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?s.credentials="include":r.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=i(r);fetch(r.href,s)}};Me();const e=ne.exports.jsx,t=ne.exports.jsxs,f=ne.exports.Fragment;class Be extends d.exports.Component{render(){return t("div",{className:"top",children:[e("img",{src:"/assets/img/logo.png",alt:"logo"}),t("div",{className:"top-link",children:[e(S,{to:"login",children:"\u30ED\u30B0\u30A4\u30F3"}),e(S,{to:"signup",children:"\u65B0\u898F\u767B\u9332"}),e(S,{to:"terms_service",children:"\u5229\u7528\u898F\u7D04"}),e(S,{to:"privacy_policy",children:"\u30D7\u30E9\u30A4\u30D0\u30B7\u30FC\u30DD\u30EA\u30B7\u30FC"})]})]})}}const _e="https://eiyoo-api.herokuapp.com";async function Ae(p){localStorage.setItem("userData",JSON.stringify(p))}class Ee extends d.exports.Component{constructor(){super(...arguments);c(this,"state",{emailFocus:!1,passwordFocus:!1,email:"",password:"",alertModal:!1,error:"Login Failed"});c(this,"inputFocus",a=>i=>{this.setState({[`${a}Focus`]:!0})});c(this,"inputBlur",a=>i=>{i.target.value==""&&this.setState({[`${a}Focus`]:!1})});c(this,"inputChange",a=>i=>{this.setState({[a]:i.target.value})});c(this,"handleLogin",a=>{const{email:i,password:n}=this.state;if(i==""){this.setState({error:"Please input email address",alertModal:!0});return}if(n==""){this.setState({error:"Please input Password",alertModal:!0});return}var r=JSON.stringify({email:i,password:n}),s={method:"post",url:`${_e}/api/advisor_login`,headers:{"Content-Type":"application/json"},data:r};D(s).then(async o=>{o.data.userstatus!=0&&(Ae(o.data),window.location.assign("/dashboard")),o.data.userstatus==0&&window.location.assign("/email_verify")}).catch(o=>{this.setState({error:"Email or password incorrect.",alertModal:!0})})});c(this,"modalClose",a=>{this.setState({alertModal:!1})});c(this,"modalClick",a=>{a.stopPropagation()})}componentDidMount(){document.title="Login | Eiyoo"}render(){const{emailFocus:a,passwordFocus:i,email:n,password:r,alertModal:s,error:o}=this.state;return t(f,{children:[t("div",{className:"top",children:[e("img",{className:"top-login-logo",src:"/assets/img/logo.png",alt:"logo"}),t("div",{className:"top-login-input",children:[t("div",{className:`top-input-box ${a?"focus":""}`,children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16.4",height:"12.576",viewBox:"0 0 16.4 12.576",children:e("g",{transform:"translate(0.2 -57.55)",children:t("g",{transform:"translate(0 57.75)",children:[e("path",{d:"M14.047,57.75H1.957A1.958,1.958,0,0,0,0,59.707V67.97a1.958,1.958,0,0,0,1.957,1.957H14.043A1.958,1.958,0,0,0,16,67.97V59.71A1.956,1.956,0,0,0,14.047,57.75Zm1.063,10.22a1.064,1.064,0,0,1-1.063,1.063H1.957A1.064,1.064,0,0,1,.894,67.97V59.71a1.064,1.064,0,0,1,1.063-1.063H14.043a1.064,1.064,0,0,1,1.063,1.063v8.26Z",transform:"translate(0 -57.75)",fill:"#fff",stroke:"#fff",strokeWidth:"0.4"}),e("path",{d:"M62.761,112.368l3.326-2.833a.35.35,0,0,0,.028-.511.4.4,0,0,0-.537-.027l-4.587,3.91-.895-.759s-.006-.005-.006-.008a.556.556,0,0,0-.062-.051l-3.641-3.1a.394.394,0,0,0-.537.029.348.348,0,0,0,.031.511l3.366,2.857-3.352,2.98a.35.35,0,0,0-.017.511.4.4,0,0,0,.279.115.392.392,0,0,0,.259-.1l3.4-3.023.923.783a.394.394,0,0,0,.507,0l.948-.807,3.382,3.052a.4.4,0,0,0,.537-.013.35.35,0,0,0-.014-.511Z",transform:"translate(-52.982 -106.361)",fill:"#fff",stroke:"#fff",strokeWidth:"0.4"})]})})}),e("input",{type:"email",value:n,onFocus:this.inputFocus("email"),onBlur:this.inputBlur("email"),onChange:this.inputChange("email")}),e("span",{children:"Email Address"})]}),t("div",{className:`top-input-box ${i?"focus":""}`,children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16",children:e("g",{transform:"translate(-245.5 -244)",children:t("g",{transform:"translate(245.5 244)",children:[e("circle",{cx:"0.938",cy:"0.938",r:"0.938",transform:"translate(9.45 9.756)",fill:"#fff"}),e("path",{d:"M258.875,258.125a.625.625,0,0,0,.625-.625v-5.125a2.5,2.5,0,0,0-2.5-2.5h-.751v-2.2a3.751,3.751,0,0,0-7.5,0v2.2H248a2.5,2.5,0,0,0-2.5,2.5V257.5A2.5,2.5,0,0,0,248,260h9a2.5,2.5,0,0,0,2.5-2.5.625.625,0,0,0-1.25,0,1.251,1.251,0,0,1-1.25,1.25h-9a1.251,1.251,0,0,1-1.25-1.25v-5.125a1.251,1.251,0,0,1,1.25-1.25h9a1.251,1.251,0,0,1,1.25,1.25V257.5A.625.625,0,0,0,258.875,258.125ZM255,249.875h-5v-2.2a2.5,2.5,0,0,1,5,0Z",transform:"translate(-245.5 -244)",fill:"#fff"}),e("circle",{cx:"0.938",cy:"0.938",r:"0.938",transform:"translate(4.963 9.756)",fill:"#fff"}),e("circle",{cx:"0.937",cy:"0.937",r:"0.937",transform:"translate(2.734 9.756)",fill:"#fff"}),e("circle",{cx:"0.938",cy:"0.938",r:"0.938",transform:"translate(7.192 9.756)",fill:"#fff"})]})})}),e("input",{type:"password",value:r,onFocus:this.inputFocus("password"),onBlur:this.inputBlur("password"),onChange:this.inputChange("password")}),e("span",{children:"Password"})]})]}),t("div",{className:"top-login-btns",children:[e("a",{onClick:this.handleLogin,children:"LOGIN"}),e(S,{className:"top-login-forgot",to:"/password_reset",children:"Forgot password"}),t("div",{className:"top-login-or",children:[e("div",{}),e("h4",{children:"OR"}),e("div",{})]}),e(S,{to:"/signup",children:"CREATE AN ACCOUNT"})]})]}),e("div",{className:`modal ${s?"modal-show":""}`,onClick:this.modalClose,children:e("div",{className:"modal-body",onClick:this.modalClick,children:e("p",{children:o})})})]})}}const be="https://eiyoo-api.herokuapp.com";class $e extends d.exports.Component{constructor(a){super(a);c(this,"inputFocus",a=>i=>{this.setState({[`${a}Focus`]:!0})});c(this,"inputBlur",a=>i=>{i.target.value==""&&this.setState({[`${a}Focus`]:!1})});c(this,"inputChange",a=>i=>{if(a==="accountName"){this.setState({[a]:i.target.value.replace(/[^A-Za-z0-9]/ig,"")});return}this.setState({[a]:i.target.value})});c(this,"agreeChange",a=>{this.setState({agree:!this.state.agree})});c(this,"handleSignup",a=>{a.preventDefault();const{accountName:i,email:n,password:r,agree:s}=this.state;if(s)this.setState({errorTerms:""});else{this.setState({errorTerms:"You should agree with privacy policy.",alertModal:!0});return}var o=JSON.stringify({accountName:i,email:n,password:r}),l={method:"post",url:`${be}/api/advisor_signup`,headers:{"content-type":"application/json"},data:o};D(l).then(h=>{localStorage.setItem("userData",JSON.stringify(h.data.email)),this.setState({successModal:!0})}).catch(h=>{if(h.response.data){var m=h.response.data;m.email&&(m.email[0].indexOf("blank")!==-1&&this.setState({erroremail:"Email is required"}),m.email[0].indexOf("exists")!==-1&&this.setState({erroremail:"Email already exists."}),m.email[0].indexOf("valid")!==-1&&this.setState({erroremail:"Invalid Email"})),m.password&&m.password[0].indexOf("blank")!==-1&&this.setState({errorpassword:"Password error"}),m.accountName&&m.accountName[0].indexOf("exists")!==-1&&this.setState({erroraccountName:"Account Name already exists."})}this.setState({alertModal:!0})})});c(this,"modalClose",a=>{this.setState({alertModal:!1})});c(this,"modalClick",a=>{a.stopPropagation()});c(this,"successModalClose",a=>{this.setState({successModal:!1}),window.location.assign("/login")});this.state={accountNameFocus:!1,emailFocus:!1,passwordFocus:!1,accountName:"",email:"",password:"",agree:!1,errorTerms:"",erroremail:"",errorpassword:"",erroraccountName:"",alertModal:!1,successModal:!1}}componentDidMount(){document.title="Signup | Eiyoo"}render(){const{accountNameFocus:a,emailFocus:i,passwordFocus:n,accountName:r,email:s,password:o,agree:l,alertModal:h,successModal:m,errorTerms:M,erroraccountName:k,erroremail:B,errorpassword:A}=this.state;return t(f,{children:[t("div",{className:"top",children:[t("p",{className:"top-signup-desc",children:["\u203B\u7121\u6599\u4F53\u9A13\u3092\u59CB\u3081\u3066\u3044\u305F\u3060\u304F\u969B\u306E\u3054\u6CE8\u610F",e("br",{}),e("br",{}),"\u30A2\u30AB\u30A6\u30F3\u30C8\u4F5C\u6210\u5F8C\u3001",e("br",{}),"\u7121\u6599\u3067\u3054\u5229\u7528\u3044\u305F\u3060\u3051\u307E\u3059\u3002",e("br",{}),"\u304A\u7533\u3057\u8FBC\u307F\u306B\u969B\u3057\u3066\u306F\u3001",e("br",{}),"\u5FC5\u305A\u5229\u7528\u898F\u7D04\u3092\u3054\u78BA\u8A8D\u304F\u3060\u3055\u3044\u3002"]}),t("div",{className:"top-login-input",children:[t("div",{className:`top-input-box ${a?"focus":""}`,children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"15",viewBox:"0 0 14 15",children:t("g",{transform:"translate(-58 -476)",children:[t("g",{transform:"translate(62 476)",fill:"none",stroke:"#fff",strokeWidth:"1",children:[e("circle",{cx:"3",cy:"3",r:"3",stroke:"none"}),e("circle",{cx:"3",cy:"3",r:"2.5",fill:"none"})]}),t("g",{transform:"translate(58 483)",fill:"none",stroke:"#fff",strokeWidth:"1",children:[e("path",{d:"M6,0H8a6,6,0,0,1,6,6V8a0,0,0,0,1,0,0H0A0,0,0,0,1,0,8V6A6,6,0,0,1,6,0Z",stroke:"none"}),e("path",{d:"M6,.5H8A5.5,5.5,0,0,1,13.5,6V7a.5.5,0,0,1-.5.5H1A.5.5,0,0,1,.5,7V6A5.5,5.5,0,0,1,6,.5Z",fill:"none"})]})]})}),e("input",{type:"text",value:r,onFocus:this.inputFocus("accountName"),onBlur:this.inputBlur("accountName"),onChange:this.inputChange("accountName")}),e("span",{children:"Account Name"})]}),t("div",{className:`top-input-box ${i?"focus":""}`,children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16.4",height:"12.576",viewBox:"0 0 16.4 12.576",children:e("g",{transform:"translate(0.2 -57.55)",children:t("g",{transform:"translate(0 57.75)",children:[e("path",{d:"M14.047,57.75H1.957A1.958,1.958,0,0,0,0,59.707V67.97a1.958,1.958,0,0,0,1.957,1.957H14.043A1.958,1.958,0,0,0,16,67.97V59.71A1.956,1.956,0,0,0,14.047,57.75Zm1.063,10.22a1.064,1.064,0,0,1-1.063,1.063H1.957A1.064,1.064,0,0,1,.894,67.97V59.71a1.064,1.064,0,0,1,1.063-1.063H14.043a1.064,1.064,0,0,1,1.063,1.063v8.26Z",transform:"translate(0 -57.75)",fill:"#fff",stroke:"#fff",strokeWidth:"0.4"}),e("path",{d:"M62.761,112.368l3.326-2.833a.35.35,0,0,0,.028-.511.4.4,0,0,0-.537-.027l-4.587,3.91-.895-.759s-.006-.005-.006-.008a.556.556,0,0,0-.062-.051l-3.641-3.1a.394.394,0,0,0-.537.029.348.348,0,0,0,.031.511l3.366,2.857-3.352,2.98a.35.35,0,0,0-.017.511.4.4,0,0,0,.279.115.392.392,0,0,0,.259-.1l3.4-3.023.923.783a.394.394,0,0,0,.507,0l.948-.807,3.382,3.052a.4.4,0,0,0,.537-.013.35.35,0,0,0-.014-.511Z",transform:"translate(-52.982 -106.361)",fill:"#fff",stroke:"#fff",strokeWidth:"0.4"})]})})}),e("input",{type:"email",value:s,onFocus:this.inputFocus("email"),onBlur:this.inputBlur("email"),onChange:this.inputChange("email")}),e("span",{children:"Email Address"})]}),t("div",{className:`top-input-box ${n?"focus":""}`,children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16",children:e("g",{transform:"translate(-245.5 -244)",children:t("g",{transform:"translate(245.5 244)",children:[e("circle",{cx:"0.938",cy:"0.938",r:"0.938",transform:"translate(9.45 9.756)",fill:"#fff"}),e("path",{d:"M258.875,258.125a.625.625,0,0,0,.625-.625v-5.125a2.5,2.5,0,0,0-2.5-2.5h-.751v-2.2a3.751,3.751,0,0,0-7.5,0v2.2H248a2.5,2.5,0,0,0-2.5,2.5V257.5A2.5,2.5,0,0,0,248,260h9a2.5,2.5,0,0,0,2.5-2.5.625.625,0,0,0-1.25,0,1.251,1.251,0,0,1-1.25,1.25h-9a1.251,1.251,0,0,1-1.25-1.25v-5.125a1.251,1.251,0,0,1,1.25-1.25h9a1.251,1.251,0,0,1,1.25,1.25V257.5A.625.625,0,0,0,258.875,258.125ZM255,249.875h-5v-2.2a2.5,2.5,0,0,1,5,0Z",transform:"translate(-245.5 -244)",fill:"#fff"}),e("circle",{cx:"0.938",cy:"0.938",r:"0.938",transform:"translate(4.963 9.756)",fill:"#fff"}),e("circle",{cx:"0.937",cy:"0.937",r:"0.937",transform:"translate(2.734 9.756)",fill:"#fff"}),e("circle",{cx:"0.938",cy:"0.938",r:"0.938",transform:"translate(7.192 9.756)",fill:"#fff"})]})})}),e("input",{type:"password",value:o,onFocus:this.inputFocus("password"),onBlur:this.inputBlur("password"),onChange:this.inputChange("password")}),e("span",{children:"Password"})]}),e("div",{className:"top-input-checkbox",children:t("label",{htmlFor:"agree",children:[e("input",{type:"checkbox",id:"agree",checked:l,onChange:this.agreeChange}),e("span",{}),"\u5229\u7528\u898F\u7D04\u306B\u540C\u610F\u3059\u308B"]})})]}),t("div",{className:"top-login-btns",children:[e("a",{onClick:this.handleSignup,children:"CREATE AN ACCOUNT"}),t("div",{className:"top-login-or",children:[e("div",{}),e("h4",{children:"OR"}),e("div",{})]}),e(S,{to:"/login",children:"LOGIN"})]})]}),e("div",{className:`modal ${h?"modal-show":""}`,onClick:this.modalClose,children:t("div",{className:"modal-body",onClick:this.modalClick,children:[e("p",{children:M?`${M}`:""}),e("p",{children:k?`${k}`:""}),e("p",{children:B?`${B}`:""}),e("p",{children:A?`${A}`:""})]})}),e("div",{className:`modal ${m?"modal-show":""}`,onClick:this.modalClose,children:t("div",{className:"modal-body",onClick:this.modalClick,children:[t("p",{children:["\u4EEE\u767B\u9332\u304C\u5B8C\u4E86\u3057\u307E\u3057\u305F\u3002",e("br",{}),"\u30E1\u30FC\u30EB\u304B\u3089\u672C\u767B\u9332\u3092\u5B8C\u4E86\u3057\u3066\u4E0B\u3055\u3044\u3002"]}),e("a",{onClick:this.successModalClose,children:"OK"})]})})]})}}const Pe="https://eiyoo-api.herokuapp.com";class Le extends d.exports.Component{constructor(){super(...arguments);c(this,"state",{emailFocus:!1,email:"",erroremail:"",alertModal:!1});c(this,"inputFocus",a=>i=>{this.setState({[`${a}Focus`]:!0})});c(this,"inputBlur",a=>i=>{i.target.value==""&&this.setState({[`${a}Focus`]:!1})});c(this,"inputChange",a=>i=>{this.setState({[a]:i.target.value})});c(this,"passwordRest",a=>{const{email:i}=this.state;if(i===""){this.setState({erroremail:"Please input email address.",alertModal:!0});return}var n=JSON.stringify({email:i}),r={method:"post",url:`${Pe}/api/password_reset`,headers:{"content-type":"application/json"},data:n};D(r).then(s=>{localStorage.setItem("userData",JSON.stringify(s.data.email)),this.setState({erroremail:"\u518D\u8A2D\u5B9A\u30E1\u30FC\u30EB\u3092\u9001\u4FE1\u3057\u307E\u3057\u305F\u3002",alertModal:!0})}).catch(s=>{this.setState({erroremail:"\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9\u304C\u5B58\u5728\u3057\u307E\u305B\u3093\u3002",alertModal:!0})})});c(this,"modalClose",a=>{this.setState({alertModal:!1,successModal:!1})});c(this,"modalClick",a=>{a.stopPropagation()})}componentDidMount(){document.title="Reset Password | Eiyoo"}render(){const{emailFocus:a,email:i,erroremail:n,alertModal:r}=this.state;return t(f,{children:[t("div",{className:"top",children:[e("img",{src:"/assets/img/logo.png",alt:"logo"}),e("div",{className:"top-login-input",children:t("div",{className:`top-input-box ${a?"focus":""}`,children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16.4",height:"12.576",viewBox:"0 0 16.4 12.576",children:e("g",{transform:"translate(0.2 -57.55)",children:t("g",{transform:"translate(0 57.75)",children:[e("path",{d:"M14.047,57.75H1.957A1.958,1.958,0,0,0,0,59.707V67.97a1.958,1.958,0,0,0,1.957,1.957H14.043A1.958,1.958,0,0,0,16,67.97V59.71A1.956,1.956,0,0,0,14.047,57.75Zm1.063,10.22a1.064,1.064,0,0,1-1.063,1.063H1.957A1.064,1.064,0,0,1,.894,67.97V59.71a1.064,1.064,0,0,1,1.063-1.063H14.043a1.064,1.064,0,0,1,1.063,1.063v8.26Z",transform:"translate(0 -57.75)",fill:"#fff",stroke:"#fff",strokeWidth:"0.4"}),e("path",{d:"M62.761,112.368l3.326-2.833a.35.35,0,0,0,.028-.511.4.4,0,0,0-.537-.027l-4.587,3.91-.895-.759s-.006-.005-.006-.008a.556.556,0,0,0-.062-.051l-3.641-3.1a.394.394,0,0,0-.537.029.348.348,0,0,0,.031.511l3.366,2.857-3.352,2.98a.35.35,0,0,0-.017.511.4.4,0,0,0,.279.115.392.392,0,0,0,.259-.1l3.4-3.023.923.783a.394.394,0,0,0,.507,0l.948-.807,3.382,3.052a.4.4,0,0,0,.537-.013.35.35,0,0,0-.014-.511Z",transform:"translate(-52.982 -106.361)",fill:"#fff",stroke:"#fff",strokeWidth:"0.4"})]})})}),e("input",{type:"email",value:i,onFocus:this.inputFocus("email"),onBlur:this.inputBlur("email"),onChange:this.inputChange("email")}),e("span",{children:"Email Address"})]})}),t("div",{className:"top-login-btns",children:[e("a",{onClick:this.passwordRest,children:"RESET PASSWORD"}),t("div",{className:"top-login-or",children:[e("div",{}),e("h4",{children:"OR"}),e("div",{})]}),e(S,{to:"/login",children:"LOGIN"})]})]}),e("div",{className:`modal ${r?"modal-show":""}`,onClick:this.modalClose,children:e("div",{className:"modal-body",onClick:this.modalClick,children:e("p",{children:n})})})]})}}const he="https://eiyoo-api.herokuapp.com";class Oe extends d.exports.Component{constructor(){super(...arguments);c(this,"state",{email:"",error:!0,alertModal:!1,newPass:"",newPassConfirm:"",newPassFocus:!1,newPassConfirmFocus:!1,message:"",successModal:!1});c(this,"inputFocus",a=>i=>{this.setState({[`${a}Focus`]:!0})});c(this,"inputBlur",a=>i=>{i.target.value==""&&this.setState({[`${a}Focus`]:!1})});c(this,"inputChange",a=>i=>{this.setState({[a]:i.target.value})});c(this,"modalClose",a=>{this.setState({alertModal:!1,successModal:!1})});c(this,"modalClick",a=>{a.stopPropagation()});c(this,"passwordRest",a=>{const{newPass:i,newPassConfirm:n}=this.state;if(i=="")this.setState({message:"Please input new password",alertModal:!0});else if(n=="")this.setState({message:"Please confirm new password",alertModal:!0});else if(i!=n)this.setState({message:"New passwords doen't match",alertModal:!0});else{var r=JSON.stringify({email:this.state.email,password:i});console.log(r);var s={method:"post",url:`${he}/api/password_reset_confirm`,headers:{"content-type":"application/json"},data:r};D(s).then(o=>{this.setState({message:"Password changed successfuly.",successModal:!0})}).catch(o=>{this.setState({})})}});c(this,"successModalClose",a=>{this.setState({successModal:!1}),window.location.assign("/login")})}componentDidMount(){document.title="Reset Password | Eiyoo";var a=window.location.pathname.split("/")[2],i=window.location.pathname.split("/")[3];this.setState({email:a});var n=JSON.stringify({code:i,email:a}),r={method:"post",url:`${he}/api/password_reset_verify`,headers:{"content-type":"application/json"},data:n};D(r).then(s=>{this.setState({error:!1})}).catch(s=>{this.setState({error:!0})})}render(){const{error:a,alertModal:i,newPass:n,newPassConfirm:r,newPassFocus:s,newPassConfirmFocus:o,message:l,successModal:h}=this.state;return t(f,{children:[t("div",{className:"top",style:{display:`${a?"none":"block"}`},children:[e("img",{src:"/assets/img/logo.png",alt:"logo"}),t("div",{className:"top-login-input",children:[t("div",{className:`top-input-box ${s?"focus":""}`,children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16",children:e("g",{transform:"translate(-245.5 -244)",children:t("g",{transform:"translate(245.5 244)",children:[e("circle",{cx:"0.938",cy:"0.938",r:"0.938",transform:"translate(9.45 9.756)",fill:"#fff"}),e("path",{d:"M258.875,258.125a.625.625,0,0,0,.625-.625v-5.125a2.5,2.5,0,0,0-2.5-2.5h-.751v-2.2a3.751,3.751,0,0,0-7.5,0v2.2H248a2.5,2.5,0,0,0-2.5,2.5V257.5A2.5,2.5,0,0,0,248,260h9a2.5,2.5,0,0,0,2.5-2.5.625.625,0,0,0-1.25,0,1.251,1.251,0,0,1-1.25,1.25h-9a1.251,1.251,0,0,1-1.25-1.25v-5.125a1.251,1.251,0,0,1,1.25-1.25h9a1.251,1.251,0,0,1,1.25,1.25V257.5A.625.625,0,0,0,258.875,258.125ZM255,249.875h-5v-2.2a2.5,2.5,0,0,1,5,0Z",transform:"translate(-245.5 -244)",fill:"#fff"}),e("circle",{cx:"0.938",cy:"0.938",r:"0.938",transform:"translate(4.963 9.756)",fill:"#fff"}),e("circle",{cx:"0.937",cy:"0.937",r:"0.937",transform:"translate(2.734 9.756)",fill:"#fff"}),e("circle",{cx:"0.938",cy:"0.938",r:"0.938",transform:"translate(7.192 9.756)",fill:"#fff"})]})})}),e("input",{type:"password",value:n,onFocus:this.inputFocus("newPass"),onBlur:this.inputBlur("newPass"),onChange:this.inputChange("newPass")}),e("span",{children:"New Password"})]}),t("div",{className:`top-input-box ${o?"focus":""}`,children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16",children:e("g",{transform:"translate(-245.5 -244)",children:t("g",{transform:"translate(245.5 244)",children:[e("circle",{cx:"0.938",cy:"0.938",r:"0.938",transform:"translate(9.45 9.756)",fill:"#fff"}),e("path",{d:"M258.875,258.125a.625.625,0,0,0,.625-.625v-5.125a2.5,2.5,0,0,0-2.5-2.5h-.751v-2.2a3.751,3.751,0,0,0-7.5,0v2.2H248a2.5,2.5,0,0,0-2.5,2.5V257.5A2.5,2.5,0,0,0,248,260h9a2.5,2.5,0,0,0,2.5-2.5.625.625,0,0,0-1.25,0,1.251,1.251,0,0,1-1.25,1.25h-9a1.251,1.251,0,0,1-1.25-1.25v-5.125a1.251,1.251,0,0,1,1.25-1.25h9a1.251,1.251,0,0,1,1.25,1.25V257.5A.625.625,0,0,0,258.875,258.125ZM255,249.875h-5v-2.2a2.5,2.5,0,0,1,5,0Z",transform:"translate(-245.5 -244)",fill:"#fff"}),e("circle",{cx:"0.938",cy:"0.938",r:"0.938",transform:"translate(4.963 9.756)",fill:"#fff"}),e("circle",{cx:"0.937",cy:"0.937",r:"0.937",transform:"translate(2.734 9.756)",fill:"#fff"}),e("circle",{cx:"0.938",cy:"0.938",r:"0.938",transform:"translate(7.192 9.756)",fill:"#fff"})]})})}),e("input",{type:"password",value:r,onFocus:this.inputFocus("newPassConfirm"),onBlur:this.inputBlur("newPassConfirm"),onChange:this.inputChange("newPassConfirm")}),e("span",{children:"Confirm Password"})]})]}),t("div",{className:"top-login-btns",children:[e("a",{onClick:this.passwordRest,children:"RESET PASSWORD"}),t("div",{className:"top-login-or",children:[e("div",{}),e("h4",{children:"OR"}),e("div",{})]}),e(S,{to:"/login",children:"LOGIN"})]})]}),e("div",{className:`modal ${i?"modal-show":""}`,onClick:this.modalClose,children:e("div",{className:"modal-body",onClick:this.modalClick,children:e("p",{children:l})})}),e("div",{className:`modal ${h?"modal-show":""}`,onClick:this.modalClose,children:t("div",{className:"modal-body",onClick:this.modalClick,children:[e("p",{children:l}),e("a",{onClick:this.successModalClose,children:"OK"})]})})]})}}const pe="https://eiyoo-api.herokuapp.com";class Ve extends d.exports.Component{constructor(a){super(a);c(this,"inputChange",a=>i=>{this.setState({[`code${a}`]:i.target.value.replace(/[^0-9]/ig,"")}),a!=6&&i.target.value!=""&&i.target.nextSibling.focus(),a!=1&&i.target.value==""&&i.target.previousSibling.focus()});c(this,"inputFocus",a=>i=>{a!=1&&i.target.value==""&&i.target.previousSibling.value==""&&i.target.previousSibling.focus()});c(this,"keyPress",a=>i=>{var n=i.keyCode;n==8&&a!=1&&i.target.value==""&&i.target.previousSibling.focus(),n==8&&i.target.value!=""&&i.target.focus(),n!=8&&a!=6&&i.target.value!=""&&i.target.nextSibling.focus()});c(this,"handleVerify",a=>{if(JSON.parse(localStorage.getItem("userData")).userstatus>=0)var i=JSON.parse(localStorage.getItem("userData")).email;else i=JSON.parse(localStorage.getItem("userData"))||null;const{code1:n,code2:r,code3:s,code4:o,code5:l,code6:h}=this.state;var m=JSON.stringify({code:(n+r+s+o+l+h).toString(),email:i}),M={method:"post",url:`${pe}/api/email_verify`,headers:{"content-type":"application/json"},data:m};D(M).then(k=>{window.location.assign("/login")}).catch(k=>{this.setState({error:"Verify email failed",alertModal:!0})})});c(this,"resendCode",a=>{if(JSON.parse(localStorage.getItem("userData")).userstatus>=0)var i=JSON.parse(localStorage.getItem("userData")).email;else i=JSON.parse(localStorage.getItem("userData"))||null;var n=JSON.stringify({email:i}),r={method:"post",url:`${pe}/api/resend_code`,headers:{"content-type":"application/json"},data:n};D(r).then(s=>{this.setState({error:"Verification code resent to your email.",alertModal:!0})}).catch(s=>{this.setState({error:"Cannot resend verify code.",alertModal:!0})})});c(this,"modalClose",a=>{this.setState({alertModal:!1})});c(this,"modalClick",a=>{a.stopPropagation()});this.state={code1:"",code2:"",code3:"",code4:"",code5:"",code6:"",error:"",alertModal:!1}}componentDidMount(){document.title="Email Verify | Eiyoo"}render(){const{code1:a,code2:i,code3:n,code4:r,code5:s,code6:o,alertModal:l,error:h}=this.state;return t(f,{children:[t("div",{className:"top verify",children:[e("h2",{children:"\u30E1\u30FC\u30EB\u691C\u8A3C"}),t("div",{className:"top-verify-input",children:[e("input",{type:"text",maxLength:"1",minLength:"1",value:a,onChange:this.inputChange(1),onFocus:this.inputFocus(1),onKeyDown:this.keyPress(1)}),e("input",{type:"text",maxLength:"1",minLength:"1",value:i,onChange:this.inputChange(2),onFocus:this.inputFocus(2),onKeyDown:this.keyPress(2)}),e("input",{type:"text",maxLength:"1",minLength:"1",value:n,onChange:this.inputChange(3),onFocus:this.inputFocus(3),onKeyDown:this.keyPress(3)}),e("input",{type:"text",maxLength:"1",minLength:"1",value:r,onChange:this.inputChange(4),onFocus:this.inputFocus(4),onKeyDown:this.keyPress(4)}),e("input",{type:"text",maxLength:"1",minLength:"1",value:s,onChange:this.inputChange(5),onFocus:this.inputFocus(5),onKeyDown:this.keyPress(5)}),e("input",{type:"text",maxLength:"1",minLength:"1",value:o,onChange:this.inputChange(6),onFocus:this.inputFocus(6),onKeyDown:this.keyPress(6)})]}),e("a",{onClick:this.handleVerify,children:"Verify"}),e("a",{onClick:this.resendCode,children:"Resend code"})]}),e("div",{className:`modal ${l?"modal-show":""}`,onClick:this.modalClose,children:e("div",{className:"modal-body",onClick:this.modalClick,children:e("p",{children:h})})})]})}}function je(){return t("div",{className:"top",children:[e("h1",{children:"\u5229\u7528\u898F\u7D04"}),e(S,{to:"/",children:"\u30C8\u30C3\u30D7\u30DA\u30FC\u30B8\u3078"})]})}function He(){return t("div",{className:"top",children:[e("h1",{children:"\u30D7\u30E9\u30A4\u30D0\u30B7\u30FC\u30DD\u30EA\u30B7\u30FC"}),e(S,{to:"/",children:"\u30C8\u30C3\u30D7\u30DA\u30FC\u30B8\u3078"})]})}const se="https://eiyoo-api.herokuapp.com";function Ze(){const p=X(),[a,i]=d.exports.useState(),[n,r]=d.exports.useState(0),[s,o]=d.exports.useState(0);d.exports.useEffect(()=>{i(location.pathname.split("/")[2]),l(),setInterval(()=>l(),2e3)});async function l(){var h=JSON.parse(localStorage.getItem("userData"))||null;if(h!=null)var m=h.token;var M={method:"post",url:`${se}/api/get_advisor_unreads`,headers:{"Content-Type":"application/json",Authorization:"Bearer "+m}};await D(M).then(k=>{r(k.data.countUnreadMeals),o(k.data.countUnreadMessages)}).catch(k=>{})}return e(Je,{Location:p,tabName:a,newMeal:n,newMessage:s})}class Je extends d.exports.Component{constructor(a){super(a);c(this,"menuShow",a=>{a.stopPropagation(),this.setState({menuShow:!this.state.menuShow})});c(this,"menuClose",a=>{this.setState({menuShow:!1})});c(this,"menuClick",a=>{a.stopPropagation()});c(this,"menuLink",a=>{this.setState({menuShow:!1})});c(this,"logout",a=>{localStorage.removeItem("userData"),window.location.assign("/")});c(this,"updateAvatar",a=>{let i=a.target.files[0],n=URL.createObjectURL(i);const r=new FormData;r.append("avatar",i);var s=JSON.parse(localStorage.getItem("userData"))||null,o=s.token;D.post(`${se}/api/updateAvatar`,r,{headers:{Authorization:"Bearer "+o}}).then(l=>{window.location.reload()}).catch(l=>{}),this.setState({avatarimg:n})});this.state={menuShow:!1,userName1:"",userName2:"",avatarimg:""}}componentDidMount(){this.getProfile();var a=0;window.location.pathname.split("/")[2]==="home"&&(a=0),window.location.pathname.split("/")[2]==="profile"&&(a=1),window.location.pathname.split("/")[2]==="record"&&(a=2),window.location.pathname.split("/")[2]==="data"&&(a=3),window.location.pathname.split("/")[2]==="message"&&(a=4),window.location.pathname.split("/")[2]==="inquiry"&&(a=5),this.setState({activeTab:a})}async getProfile(){var a=JSON.parse(localStorage.getItem("userData"))||null;if(a!=null)var i=a.token;var n={method:"get",url:`${se}/api/getAdvisorProfile`,headers:{"Content-Type":"application/json",Authorization:"Bearer "+i},data:{}};await D(n).then(async r=>{var s=r.data.user;this.setState({userName1:s.userName1==null?"":s.userName1,userName2:s.userName2==null?"":s.userName2,avatarimg:s.avatar?`${se}/media/${s.avatar}`:""})}).catch(r=>{r.response&&r.response.status===401&&(localStorage.removeItem("userData"),window.location.assign("/"))})}render(){const{menuShow:a,userName1:i,userName2:n,avatarimg:r}=this.state;return t(f,{children:[e("header",{children:t("div",{className:"header",children:[t("div",{className:`menu-btn ${a?"menu-show":""}`,onClick:this.menuShow,children:[e("span",{}),e("span",{}),e("span",{})]}),e(S,{className:"logo",onClick:this.menuLink,to:"/dashboard/home",children:e("img",{src:"/assets/img/logo1.png",alt:"logo"})}),t("a",{className:"header-profile",children:[e("img",{onClick:s=>this.upload.click(),src:r==""?"/assets/img/avatar.jpg":r,alt:"avatar"}),e("input",{type:"file",onChange:this.updateAvatar,ref:s=>this.upload=s,style:{display:"none"},multiple:!0,accept:"image/png, image/gif, image/jpeg"})]})]})}),e("menu",{className:a?"menu-show":"",onClick:this.menuClose,children:t("div",{className:"menu",onClick:this.menuClick,children:[t("div",{className:"menu-profile",children:[e("img",{src:r==""?"/assets/img/avatar.jpg":r,alt:"avatar"}),t("h4",{children:[i," ",n]})]}),t("div",{className:"menu-link",children:[t(S,{onClick:this.menuLink,className:this.props.tabName=="home"?"current":"",to:"/dashboard/home",children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"21.348",height:"17.96",viewBox:"0 0 21.348 17.96",transform:"scale(1.1)",children:e("path",{d:"M2248.465,8.45l8.035-7.077,8.02,7.077H2263V17h-4V11h-5v6h-4V8.45Z",transform:"translate(-2245.816 -0.04)",fill:"none",stroke:"#707070",strokeWidth:"2"})}),e("span",{children:"\u30DB\u30FC\u30E0"})]}),t(S,{onClick:this.menuLink,className:this.props.tabName=="message"?"current":"",to:"/dashboard/message",children:[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"21",height:"19",viewBox:"0 0 21 19",children:[e("path",{d:"M2247,1V13h4l-2,5,7.5-5h9.5V1Z",transform:"translate(-2246)",fill:"none",stroke:"#707070",strokeLinejoin:"round",strokeWidth:"2"}),e("line",{x2:"11",transform:"translate(5 5)",fill:"none",stroke:"#707070",strokeLinecap:"round",strokeWidth:"2"}),e("line",{x2:"11",transform:"translate(5 9)",fill:"none",stroke:"#707070",strokeLinecap:"round",strokeWidth:"2"})]}),e("span",{children:"\u4F1A\u54E1\u4E00\u89A7\u30E1\u30C3\u30BB\u30F3\u30B8\u30E3\u30FC"}),this.props.newMessage>0?e("div",{children:this.props.newMessage}):e(f,{})]}),t(S,{onClick:this.menuLink,className:this.props.tabName=="data"?"current":"",to:"/dashboard/data",children:[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"21",height:"21",viewBox:"0 0 21 21",children:[e("path",{d:"M2247,1V20h13l6-6V1Z",transform:"translate(-2246)",fill:"none",stroke:"#707070",strokeLinejoin:"round",strokeWidth:"2"}),e("line",{x2:"11",transform:"translate(5 5)",fill:"none",stroke:"#707070",strokeLinecap:"round",strokeWidth:"2"}),e("line",{x2:"11",transform:"translate(5 9)",fill:"none",stroke:"#707070",strokeLinecap:"round",strokeWidth:"2"}),e("line",{x2:"5",transform:"translate(5 13)",fill:"none",stroke:"#707070",strokeLinecap:"round",strokeWidth:"2"}),e("path",{d:"M2260,20V14h6Z",transform:"translate(-2246)",fill:"none",stroke:"#707070",strokeLinejoin:"round",strokeWidth:"2"})]}),e("span",{children:"\u4F1A\u54E1\u306E\u98DF\u4E8B\u8A18\u9332\u3092\u898B\u308B"}),this.props.newMeal>0?e("div",{children:this.props.newMeal}):e(f,{})]}),t(S,{onClick:this.menuLink,className:this.props.tabName=="record"?"current":"",to:"/dashboard/record",children:[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"21.344",height:"21",viewBox:"0 0 21.344 21",children:[e("path",{d:"M2247,1V20h9l6-6V1Z",transform:"translate(-2246)",fill:"none",stroke:"#707070",strokeWidth:"2"}),e("path",{d:"M2263.776,4.588,2253.69,14.674l-1.7,3.883,3.838-1.777,10.086-10.13Z",transform:"translate(-2246 -2)",fill:"none",stroke:"#707070",strokeWidth:"2"}),e("path",{d:"M0,0,2,2",transform:"translate(7.5 13.5)",fill:"none",stroke:"#707070",strokeWidth:"2"})]}),e("span",{children:"\u4E00\u8A00\u3092\u767B\u9332\u3059\u308B"})]}),t(S,{onClick:this.menuLink,className:this.props.tabName=="profile"?"current":"",to:"/dashboard/profile",children:[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"21",height:"21",viewBox:"0 0 21 21",children:[e("g",{fill:"none",children:e("path",{d:"M 10.5 2 C 5.813079833984375 2 2 5.813079833984375 2 10.5 C 2 15.18692016601563 5.813079833984375 19 10.5 19 C 15.18692016601563 19 19 15.18692016601563 19 10.5 C 19 5.813079833984375 15.18692016601563 2 10.5 2 M 10.5 0 C 16.29899024963379 0 21 4.701009750366211 21 10.5 C 21 16.29899024963379 16.29899024963379 21 10.5 21 C 4.701009750366211 21 0 16.29899024963379 0 10.5 C 0 4.701009750366211 4.701009750366211 0 10.5 0 Z",stroke:"none",fill:"#707070"})}),e("g",{transform:"translate(6.5 4)",fill:"none",children:e("path",{d:"M 4 2 C 2.897200107574463 2 2 2.897200107574463 2 4 C 2 5.102799892425537 2.897200107574463 6 4 6 C 5.102799892425537 6 6 5.102799892425537 6 4 C 6 2.897200107574463 5.102799892425537 2 4 2 M 4 0 C 6.209139823913574 0 8 1.790860176086426 8 4 C 8 6.209139823913574 6.209139823913574 8 4 8 C 1.790860176086426 8 0 6.209139823913574 0 4 C 0 1.790860176086426 1.790860176086426 0 4 0 Z",stroke:"none",fill:"#707070"})}),e("path",{d:"M0,0S3.75-3,7.5-3,15,0,15,0",transform:"translate(3 16)",fill:"none",stroke:"#707070",strokeWidth:"2"})]}),e("span",{children:"\u30D7\u30ED\u30D5\u30A3\u30FC\u30EB\u8A2D\u5B9A"})]}),t(S,{onClick:this.menuLink,className:this.props.tabName=="inquiry"?"current":"",to:"/dashboard/inquiry",children:[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"21",height:"21",viewBox:"0 0 21 21",children:[e("path",{d:"M2247,1V15h4l-2,5,7.5-5h9.5V1Z",transform:"translate(-2246)",fill:"none",stroke:"#707070",strokeLinejoin:"round",strokeWidth:"2"}),e("path",{d:"M0,.2A2.062,2.062,0,0,1,2.056-1.173,1.689,1.689,0,0,1,3.875.2",transform:"translate(8 5.673)",fill:"none",stroke:"#707070",strokeLinecap:"round",strokeWidth:"2"}),e("path",{d:"M0,.412V0",transform:"translate(10 8.545)",fill:"none",stroke:"#707070",strokeLinecap:"round",strokeWidth:"2"}),e("path",{d:"M1.986,0a5.452,5.452,0,0,1-.178.929,1.462,1.462,0,0,1-.292.54,2.41,2.41,0,0,1-1.25.953",transform:"translate(9.884 5.999)",fill:"none",stroke:"#707070",strokeLinecap:"round",strokeWidth:"2"}),e("line",{transform:"translate(10 11.299)",fill:"none",stroke:"#707070",strokeLinecap:"round",strokeWidth:"2"})]}),e("span",{children:"\u904B\u55B6\u306B\u554F\u3044\u5408\u308F\u305B"})]}),t("a",{onClick:this.logout,children:[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"21.414",height:"21",viewBox:"0 0 21.414 21",children:[e("path",{d:"M2247,1h13V16h-13Z",transform:"translate(-2246)",fill:"none",stroke:"#707070",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),e("path",{d:"M2255,5V20l-8-4V1Z",transform:"translate(-2246)",fill:"none",stroke:"#707070",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),e("line",{x2:"8",transform:"translate(12 8.5)",fill:"none",stroke:"#707070",strokeLinecap:"round",strokeWidth:"2"}),e("line",{x2:"3",y2:"3",transform:"translate(17 5.5)",fill:"none",stroke:"#707070",strokeLinecap:"round",strokeWidth:"2"}),e("line",{y1:"3",x2:"3",transform:"translate(17 8.5)",fill:"none",stroke:"#707070",strokeLinecap:"round",strokeWidth:"2"})]}),e("span",{children:"Log out"})]})]})]})})]})}}class We extends d.exports.Component{render(){return t(f,{children:[e(Ze,{}),e("main",{children:e("div",{className:"main-container",children:e(De,{})})})]})}}const Ie="https://eiyoo-api.herokuapp.com";function ze(){Y();const[p,a]=d.exports.useState(0),[i,n]=d.exports.useState(0);d.exports.useEffect(()=>{document.title="Home | Eiyoo",r(),setInterval(()=>r(),2e3)},[]);const r=()=>{var s=JSON.parse(localStorage.getItem("userData"))||null;if(s!=null)var o=s.token;var l={method:"post",url:`${Ie}/api/get_advisor_unreads`,headers:{"Content-Type":"application/json",Authorization:"Bearer "+o}};D(l).then(h=>{a(h.data.countUnreadMeals),n(h.data.countUnreadMessages)}).catch(h=>{})};return e(f,{children:t("div",{className:"home",children:[t("div",{className:"home-container",children:[e("h2",{children:"\u30A2\u30C9\u30D0\u30A4\u30B9\u5C02\u5C5E\u4F1A\u54E1"}),t(S,{to:"/dashboard/message",children:[i>0?e("div",{children:i}):e(f,{}),"\u4F1A\u54E1\u4E00\u89A7 \u30E1\u30C3\u30BB\u30F3\u30B8\u30E3\u30FC"]}),t(S,{to:"/dashboard/data",children:[p>0?e("div",{children:p}):e(f,{}),"\u4F1A\u54E1\u306E\u98DF\u4E8B\u8A18\u9332\u3092\u898B\u308B"]}),e(S,{to:"/dashboard/record",children:"\u4E00\u8A00\u3092\u767B\u9332\u3059\u308B"})]}),t("div",{className:"home-container",children:[e("h2",{children:"\u305D\u306E\u4ED6"}),e(S,{to:"/dashboard/profile",children:"\u30D7\u30ED\u30D5\u30A3\u30FC\u30EB\u8A2D\u5B9A"}),e(S,{to:"/dashboard/inquiry",children:"\u904B\u55B6\u306B\u554F\u3044\u5408\u308F\u305B"})]})]})})}const le="https://eiyoo-api.herokuapp.com";class me extends d.exports.Component{constructor(a){super(a);c(this,"updateAvatar",a=>{let i=a.target.files[0],n=URL.createObjectURL(i);const r=new FormData;r.append("avatar",i);var s=JSON.parse(localStorage.getItem("userData"))||null,o=s.token;D.post(`${le}/api/updateAvatar`,r,{headers:{Authorization:"Bearer "+o}}).then(l=>{window.location.reload()}).catch(l=>{}),this.setState({avatarimg:n})});this.state={accountName:"",userName1:"",userName2:"",gana1:"",gana2:"",email:"",phone:"",credit:"",avatarimg:"",create:"",advisor_field:"",advisor_field1:!1,advisor_field2:!1,advisor_field3:!1,advisor_field4:!1,advisor_bio:"",advisor_skill:"",advisor_timezone:""}}componentDidMount(){document.title="Profile | Eiyoo",this.getProfile()}async getProfile(){var a=JSON.parse(localStorage.getItem("userData"))||null;if(a!=null)var i=a.token;var n={method:"get",url:`${le}/api/getAdvisorProfile`,headers:{"Content-Type":"application/json",Authorization:"Bearer "+i},data:{}};await D(n).then(async r=>{var s=r.data.user,o=new Date(s.create),l=s.advisor_field==null?"":s.advisor_field;l.toString().includes("1")&&this.setState({advisor_field1:!0}),l.toString().includes("2")&&this.setState({advisor_field2:!0}),l.toString().includes("3")&&this.setState({advisor_field3:!0}),l.toString().includes("4")&&this.setState({advisor_field4:!0}),this.setState({accountName:s.accountName,userName1:s.userName1==null?"":s.userName1,userName2:s.userName2==null?"":s.userName2,gana1:s.gana1==null?"":s.gana1,gana2:s.gana2==null?"":s.gana2,email:s.email==null?"":s.email,phone:s.phone==null?"":s.phone,credit:s.credit==null?"":s.credit,avatarimg:s.avatar?`${le}/media/${s.avatar}`:"",create:o.getFullYear().toString()+"\u5E74"+(o.getMonth()+1).toString()+"\u6708"+o.getDate().toString()+"\u65E5",advisor_bio:s.advisor_bio==null?"":s.advisor_bio,advisor_skill:s.advisor_skill==null?"":s.advisor_skill,advisor_timezone:s.advisor_timezone==null?"":s.advisor_timezone,advisor_field:s.advisor_field==null?"":s.advisor_field});var h,m="";for(h=0;h<this.state.advisor_bio.split(`
`).length;h++)h<this.state.advisor_bio.split(`
`).length-1?m+=this.state.advisor_bio.split(`
`)[h]+"<br />":m+=this.state.advisor_bio.split(`
`)[h];this.setState({advisor_bio:m})}).catch(r=>{r.response&&r.response.status===401&&(localStorage.removeItem("userData"),window.location.assign("/"))})}render(){const{accountName:a,userName1:i,userName2:n,gana1:r,gana2:s,email:o,phone:l,credit:h,avatarimg:m,create:M,advisor_bio:k,advisor_skill:B,advisor_timezone:A,advisor_field:b,advisor_field1:P,advisor_field2:V,advisor_field3:u,advisor_field4:_}=this.state;return t("div",{className:"profile",children:[e("div",{className:"profile-img",children:e("img",{src:m==""?"/assets/img/avatar.jpg":m,alt:"avatar"})}),e("div",{className:"profile-content",children:e("table",{children:t("tbody",{children:[t("tr",{children:[e("td",{children:"\u30A2\u30AB\u30A6\u30F3\u30C8\u540D"}),e("td",{children:a})]}),t("tr",{children:[e("td",{children:"\u540D\u524D"}),e("td",{children:t("div",{className:"profile-name",children:[e("p",{children:i}),e("p",{children:n})]})})]}),t("tr",{children:[e("td",{children:"\u3075\u308A\u304C\u306A"}),e("td",{children:t("div",{className:"profile-name",children:[e("p",{children:r}),e("p",{children:s})]})})]}),t("tr",{children:[e("td",{children:"\u30E1\u30FC\u30EB"}),e("td",{children:o})]}),t("tr",{children:[e("td",{children:"\u96FB\u8A71\u756A\u53F7"}),e("td",{children:l})]}),t("tr",{children:[e("td",{children:"\u5831\u916C\u632F\u8FBC\u5148\u53E3\u5EA7"}),e("td",{children:h})]}),t("tr",{style:{display:`${b==""?"none":"table-row"}`},children:[e("td",{children:"\u5C02\u9580\u5206\u91CE"}),t("td",{children:[e("p",{style:{display:`${P?"block":"none"}`},children:"\u697D\u3057\u304F\u98DF\u4E8B\u7BA1\u7406\u3092\u30B5\u30DD\u30FC\u30C8"}),e("p",{style:{display:`${V?"block":"none"}`},children:"\u30B9\u30C8\u30A4\u30C3\u30AF\u306A\u30C0\u30A4\u30A8\u30C3\u30C8\u3092\u30B5\u30DD\u30FC\u30C8"}),e("p",{style:{display:`${u?"block":"none"}`},children:"\u7D30\u304B\u3044\u30AB\u30ED\u30EA\u30FC\u5236\u9650\u3092\u30B5\u30DD\u30FC\u30C8"}),e("p",{style:{display:`${_?"block":"none"}`},children:"\u3068\u304F\u304B\u304F\u521D\u5FC3\u8005\u3092\u30B5\u30DD\u30FC\u30C8"})]})]}),t("tr",{children:[e("td",{children:"\u4F1D\u8A18"}),e("td",{dangerouslySetInnerHTML:{__html:k}})]}),t("tr",{children:[e("td",{children:"\u30B9\u30B1\u30B8\u30E5\u30FC\u30EB"}),e("td",{children:t("p",{children:[B,e("br",{}),"\u5BFE\u5FDC\u304C\u65E9\u3044\u6642\u9593\u5E2F",e("br",{}),A]})})]}),t("tr",{children:[e("td",{children:"\u767B\u9332\u65E5"}),e("td",{children:M})]})]})})}),e("div",{className:"profile-link",children:e(S,{to:"profile_update",children:"\u30D7\u30ED\u30D5\u30A3\u30FC\u30EB\u66F4\u65B0"})})]})}}const ie="https://eiyoo-api.herokuapp.com";class Re extends d.exports.Component{constructor(a){super(a);c(this,"updateAvatar",a=>{let i=a.target.files[0],n=URL.createObjectURL(i);const r=new FormData;r.append("avatar",i);var s=JSON.parse(localStorage.getItem("userData"))||null,o=s.token;D.post(`${ie}/api/updateAvatar`,r,{headers:{Authorization:"Bearer "+o}}).then(l=>{window.location.reload()}).catch(l=>{}),this.setState({avatarimg:n})});c(this,"inputChange",a=>i=>{if(a==="phone"){this.setState({[a]:i.target.value.replace(/[^0-9]/ig,"")});return}if(a==="credit"){this.setState({[a]:i.target.value.replace(/[^0-9]/ig,"")});return}if(a==="accountName"){this.setState({[a]:i.target.value.replace(/[^A-Za-z0-9]/ig,"")});return}this.setState({[a]:i.target.value})});c(this,"updateProfile",a=>{const{accountName:i,userName1:n,userName2:r,gana1:s,gana2:o,phone:l,credit:h,advisor_bio:m,advisor_skill:M,advisor_time_sun:k,advisor_time_mon:B,advisor_time_tue:A,advisor_time_wed:b,advisor_time_thu:P,advisor_time_fri:V,advisor_time_sat:u,advisor_field1:_,advisor_field2:x,advisor_field3:F,advisor_field4:C}=this.state;var g="",L="";if(_&&(L="1"),x&&(L+="2"),F&&(L+="3"),C&&(L+="4"),k&&(g="\u65E5"),B&&(k?g=g+"\u30FB\u6708":g="\u6708"),A&&(!k&&!B?g="\u706B":g=g+"\u30FB\u706B"),b&&(!k&&!B&&!A?g="\u6C34":g=g+"\u30FB\u6C34"),P&&(!k&&!B&&!A&&!b?g="\u6728":g=g+"\u30FB\u6728"),V&&(!k&&!B&&!A&&!b&&!P?g="\u91D1":g=g+"\u30FB\u91D1"),u&&(!k&&!B&&!A&&!b&&!P&&!V?g="\u571F":g=g+"\u30FB\u571F"),console.log(g),i==""){this.setState({error:"\u30A2\u30AB\u30A6\u30F3\u30C8\u540D\u3092\u3054\u5165\u529B\u304F\u3060\u3055\u3044\u3002",alertModal:!0});return}if(n==""){this.setState({error:"\u59D3\u3092\u3054\u5165\u529B\u304F\u3060\u3055\u3044\u3002",alertModal:!0});return}if(r==""){this.setState({error:"\u540D\u3092\u3054\u5165\u529B\u304F\u3060\u3055\u3044\u3002",alertModal:!0});return}if(s==""){this.setState({error:"\u305B\u3044\u3092\u3054\u5165\u529B\u304F\u3060\u3055\u3044\u3002",alertModal:!0});return}if(o==""){this.setState({error:"\u3081\u3044\u3092\u3054\u5165\u529B\u304F\u3060\u3055\u3044\u3002",alertModal:!0});return}var T=JSON.stringify({accountName:i,userName1:n,userName2:r,gana1:s,gana2:o,phone:l,credit:h,advisor_bio:m,advisor_skill:M,advisor_timezone:g,advisor_field:L}),W=JSON.parse(localStorage.getItem("userData"))||null,Q=W.token,q={method:"post",url:`${ie}/api/updateAdvisorProfile`,headers:{"Content-Type":"application/json",Authorization:"Bearer "+Q},data:T};D(q).then(K=>{var N=K.data.user;this.setState({accountName:N.accountName,userName1:N.userName1==null?"":N.userName1,userName2:N.userName2==null?"":N.userName2,gana1:N.gana1==null?"":N.gana1,gana2:N.gana2==null?"":N.gana2,phone:N.phone==null?"":N.phone,credit:N.credit==null?"":N.credit,advisor_bio:N.advisor_bio==null?"":N.advisor_bio,advisor_skill:N.advisor_skill==null?"":N.advisor_skill,advisor_timezone:N.advisor_timezone==null?"":N.advisor_timezone,advisor_field:N.advisor_field==null?"":N.advisor_field}),window.location.reload()}).catch(K=>{this.setState({error:"Another user has the same Account Name.",alertModal:!0})})});c(this,"timeCheck",a=>i=>{this.setState({[a]:!this.state[a]})});c(this,"modalClose",a=>{this.setState({alertModal:!1})});c(this,"modalClick",a=>{a.stopPropagation()});this.state={accountName:"",userName1:"",userName2:"",gana1:"",gana2:"",email:"",phone:"",credit:"",avatarimg:"",create:"",advisor_field:"",advisor_field1:!1,advisor_field2:!1,advisor_field3:!1,advisor_field4:!1,advisor_bio:"",advisor_skill:"",advisor_timezone:"",error:"",alertModal:!1,advisor_time_sun:!1,advisor_time_mon:!1,advisor_time_tue:!1,advisor_time_wed:!1,advisor_time_thu:!1,advisor_time_fri:!1,advisor_time_sat:!1}}componentDidMount(){document.title="Profile Edit | Eiyoo",this.getProfile()}getProfile(){var a=JSON.parse(localStorage.getItem("userData"))||null;if(a!=null)var i=a.token;var n={method:"get",url:`${ie}/api/getAdvisorProfile`,headers:{"Content-Type":"application/json",Authorization:"Bearer "+i},data:{}};D(n).then(async r=>{var s=r.data.user,o=new Date(s.create),l=s.advisor_field==null?"":s.advisor_field,h=s.advisor_timezone==null?"":s.advisor_timezone;l.toString().includes("1")&&this.setState({advisor_field1:!0}),l.toString().includes("2")&&this.setState({advisor_field2:!0}),l.toString().includes("3")&&this.setState({advisor_field3:!0}),l.toString().includes("4")&&this.setState({advisor_field4:!0}),h.toString().includes("\u65E5")&&this.setState({advisor_time_sun:!0}),h.toString().includes("\u6708")&&this.setState({advisor_time_mon:!0}),h.toString().includes("\u706B")&&this.setState({advisor_time_tue:!0}),h.toString().includes("\u6C34")&&this.setState({advisor_time_wed:!0}),h.toString().includes("\u6728")&&this.setState({advisor_time_thu:!0}),h.toString().includes("\u91D1")&&this.setState({advisor_time_fri:!0}),h.toString().includes("\u571F")&&this.setState({advisor_time_sat:!0}),this.setState({accountName:s.accountName,userName1:s.userName1==null?"":s.userName1,userName2:s.userName2==null?"":s.userName2,gana1:s.gana1==null?"":s.gana1,gana2:s.gana2==null?"":s.gana2,email:s.email==null?"":s.email,phone:s.phone==null?"":s.phone,credit:s.credit==null?"":s.credit,avatarimg:s.avatar?`${ie}/media/${s.avatar}`:"",create:o.getFullYear().toString()+"\u5E74"+(o.getMonth()+1).toString()+"\u6708"+o.getDate().toString()+"\u65E5",advisor_bio:s.advisor_bio==null?"":s.advisor_bio,advisor_skill:s.advisor_skill==null?"":s.advisor_skill})}).catch(r=>{r.response&&r.response.status===401&&(localStorage.removeItem("userData"),window.location.assign("/"))})}render(){const{accountName:a,userName1:i,userName2:n,gana1:r,gana2:s,phone:o,credit:l,avatarimg:h,advisor_bio:m,advisor_skill:M,advisor_timezone:k,error:B,alertModal:A,advisor_time_sun:b,advisor_time_mon:P,advisor_time_tue:V,advisor_time_wed:u,advisor_time_thu:_,advisor_time_fri:x,advisor_time_sat:F,advisor_field1:C,advisor_field2:g,advisor_field3:L,advisor_field4:T}=this.state;return t(f,{children:[t("div",{className:"profile",children:[t("div",{className:"profile-img profile-img1",onClick:W=>this.upload.click(),children:[e("div",{className:"profile-img-cover",children:t("svg",{version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 490.337 490.337",children:[e("path",{d:"M229.9,145.379l-47.5,47.5c-17.5,17.5-35.1,35-52.5,52.7c-4.1,4.2-7.2,9.8-8.4,15.3c-6.3,28.9-12.4,57.8-18.5,86.7 l-3.4,16c-1.6,7.8,0.5,15.6,5.8,20.9c4.1,4.1,9.8,6.4,15.8,6.4c1.7,0,3.4-0.2,5.1-0.5l17.6-3.7c28-5.9,56.1-11.9,84.1-17.7 c6.5-1.4,12-4.3,16.7-9c78.6-78.7,157.2-157.3,235.8-235.8c5.8-5.8,9-12.7,9.8-21.2c0.1-1.4,0-2.8-0.3-4.1c-0.5-2-0.9-4.1-1.4-6.1 c-1.1-5.1-2.3-10.9-4.7-16.5l0,0c-14.7-33.6-39.1-57.6-72.5-71.1c-6.7-2.7-13.8-3.6-20-4.4l-1.7-0.2c-9-1.1-17.2,1.9-24.3,9.1 C320.4,54.879,275.1,100.179,229.9,145.379z M386.4,24.679c0.2,0,0.3,0,0.5,0l1.7,0.2c5.2,0.6,10,1.2,13.8,2.8 c27.2,11,47.2,30.6,59.3,58.2c1.4,3.2,2.3,7.3,3.2,11.6c0.3,1.6,0.7,3.2,1,4.8c-0.4,1.8-1.1,3-2.5,4.3 c-78.7,78.5-157.3,157.2-235.9,235.8c-1.3,1.3-2.5,1.9-4.3,2.3c-28.1,5.9-56.1,11.8-84.2,17.7l-14.8,3.1l2.8-13.1 c6.1-28.8,12.2-57.7,18.4-86.5c0.2-0.9,1-2.3,1.9-3.3c17.4-17.6,34.8-35.1,52.3-52.5l47.5-47.5c45.3-45.3,90.6-90.6,135.8-136 C384.8,24.979,385.7,24.679,386.4,24.679z"}),e("path",{d:"M38.9,109.379h174.6c6.8,0,12.3-5.5,12.3-12.3s-5.5-12.3-12.3-12.3H38.9c-21.5,0-38.9,17.5-38.9,38.9v327.4 c0,21.5,17.5,38.9,38.9,38.9h327.3c21.5,0,38.9-17.5,38.9-38.9v-167.5c0-6.8-5.5-12.3-12.3-12.3s-12.3,5.5-12.3,12.3v167.5 c0,7.9-6.5,14.4-14.4,14.4H38.9c-7.9,0-14.4-6.5-14.4-14.4v-327.3C24.5,115.879,31,109.379,38.9,109.379z"})]})}),e("img",{src:h==""?"/assets/img/avatar.jpg":h,alt:"avatar"}),e("input",{type:"file",onChange:this.updateAvatar,ref:W=>this.upload=W,style:{display:"none"},multiple:!0,accept:"image/png, image/gif, image/jpeg"})]}),t("div",{className:"profile-content",children:[t("div",{className:"profile-input",children:[e("label",{children:"\u30A2\u30AB\u30A6\u30F3\u30C8\u540D"}),e("input",{type:"text",value:a,onChange:this.inputChange("accountName")})]}),t("div",{className:"profile-input",children:[e("h4",{children:"\u540D\u524D"}),t("div",{className:"profile-input-name",children:[t("div",{children:[e("label",{children:"\u59D3"}),e("input",{type:"text",value:i,onChange:this.inputChange("userName1")})]}),t("div",{children:[e("label",{children:"\u540D"}),e("input",{type:"text",value:n,onChange:this.inputChange("userName2")})]})]})]}),t("div",{className:"profile-input",children:[e("h4",{children:"\u3075\u308A\u304C\u306A"}),t("div",{className:"profile-input-name",children:[t("div",{children:[e("label",{children:"\u305B\u3044"}),e("input",{type:"text",value:r,onChange:this.inputChange("gana1")})]}),t("div",{children:[e("label",{children:"\u3081\u3044"}),e("input",{type:"text",value:s,onChange:this.inputChange("gana2")})]})]})]}),t("div",{className:"profile-input",children:[e("h4",{children:"\u96FB\u8A71\u756A\u53F7"}),e("input",{type:"tel",value:o,onChange:this.inputChange("phone")})]}),t("div",{className:"profile-input",children:[e("h4",{children:"\u5831\u916C\u632F\u8FBC\u5148\u53E3\u5EA7"}),e("input",{type:"text",value:l,onChange:this.inputChange("credit")})]}),t("div",{className:"profile-input",children:[e("h4",{children:"\u5C02\u9580\u5206\u91CE"}),t("div",{className:"profile-input-timezone profile-input-field",children:[t("label",{htmlFor:"support-fun",children:[e("input",{type:"checkbox",id:"support-fun",checked:C,onChange:this.timeCheck("advisor_field1")}),e("span",{}),"\u697D\u3057\u304F\u98DF\u4E8B\u7BA1\u7406\u3092\u30B5\u30DD\u30FC\u30C8"]}),t("label",{htmlFor:"support-stoic",children:[e("input",{type:"checkbox",id:"support-stoic",checked:g,onChange:this.timeCheck("advisor_field2")}),e("span",{}),"\u30B9\u30C8\u30A4\u30C3\u30AF\u306A\u30C0\u30A4\u30A8\u30C3\u30C8\u3092\u30B5\u30DD\u30FC\u30C8"]}),t("label",{htmlFor:"support-restriction",children:[e("input",{type:"checkbox",id:"support-restriction",checked:L,onChange:this.timeCheck("advisor_field3")}),e("span",{}),"\u7D30\u304B\u3044\u30AB\u30ED\u30EA\u30FC\u5236\u9650\u3092\u30B5\u30DD\u30FC\u30C8"]}),t("label",{htmlFor:"support-beginner",children:[e("input",{type:"checkbox",id:"support-beginner",checked:T,onChange:this.timeCheck("advisor_field4")}),e("span",{}),"\u3068\u304F\u304B\u304F\u521D\u5FC3\u8005\u3092\u30B5\u30DD\u30FC\u30C8"]})]})]}),t("div",{className:"profile-input",children:[e("h4",{children:"\u4F1D\u8A18"}),e("textarea",{rows:"5",value:m,onChange:this.inputChange("advisor_bio")})]}),t("div",{className:"profile-input",children:[e("h4",{children:"\u30B9\u30B1\u30B8\u30E5\u30FC\u30EB"}),e("input",{type:"text",value:M,onChange:this.inputChange("advisor_skill"),placeholder:"\u8CEA\u554F\u7B49\u53D7\u4ED8\u53EF\u80FD\u6642\u9593"})]}),t("div",{className:"profile-input",children:[e("h4",{children:"\u5BFE\u5FDC\u304C\u65E9\u3044\u6642\u9593\u5E2F"}),t("div",{className:"profile-input-timezone",children:[t("label",{htmlFor:"time-sun",children:[e("input",{type:"checkbox",id:"time-sun",checked:b,onChange:this.timeCheck("advisor_time_sun")}),e("span",{}),"\u65E5"]}),t("label",{htmlFor:"time-mon",children:[e("input",{type:"checkbox",id:"time-mon",checked:P,onChange:this.timeCheck("advisor_time_mon")}),e("span",{}),"\u6708"]}),t("label",{htmlFor:"time-tue",children:[e("input",{type:"checkbox",id:"time-tue",checked:V,onChange:this.timeCheck("advisor_time_tue")}),e("span",{}),"\u706B"]}),t("label",{htmlFor:"time-wed",children:[e("input",{type:"checkbox",id:"time-wed",checked:u,onChange:this.timeCheck("advisor_time_wed")}),e("span",{}),"\u6C34"]}),t("label",{htmlFor:"time-thu",children:[e("input",{type:"checkbox",id:"time-thu",checked:_,onChange:this.timeCheck("advisor_time_thu")}),e("span",{}),"\u6728"]}),t("label",{htmlFor:"time-fri",children:[e("input",{type:"checkbox",id:"time-fri",checked:x,onChange:this.timeCheck("advisor_time_fri")}),e("span",{}),"\u91D1"]}),t("label",{htmlFor:"time-sat",children:[e("input",{type:"checkbox",id:"time-sat",checked:F,onChange:this.timeCheck("advisor_time_sat")}),e("span",{}),"\u571F"]})]})]})]}),e("div",{className:"profile-link",children:e("a",{onClick:this.updateProfile,children:"\u30D7\u30ED\u30D5\u30A3\u30FC\u30EB\u8A2D\u5B9A"})}),t("div",{className:"profile-link",children:[e(S,{to:"/dashboard/profile/change_email",children:"\u30E1\u30FC\u30EB\u66F4\u65B0"}),e(S,{to:"/dashboard/profile/change_password",children:"\u30D1\u30B9\u30EF\u30FC\u30C9\u66F4\u65B0"})]})]}),e("div",{className:`modal ${A?"modal-show":""}`,onClick:this.modalClose,children:e("div",{className:"modal-body",onClick:this.modalClick,children:e("p",{children:B})})})]})}}const Ye="https://eiyoo-api.herokuapp.com";class Te extends d.exports.Component{constructor(a){super(a);c(this,"inputFocus",a=>i=>{this.setState({[`${a}Focus`]:!0})});c(this,"inputBlur",a=>i=>{i.target.value==""&&this.setState({[`${a}Focus`]:!1})});c(this,"inputChange",a=>i=>{this.setState({[a]:i.target.value})});c(this,"modalClose",a=>{this.setState({alertModal:!1})});c(this,"modalClick",a=>{a.stopPropagation()});c(this,"updateEmail",a=>{const{currentEmail:i,newEmail:n,newEmailConfirm:r}=this.state;var s=JSON.parse(localStorage.getItem("userData"))||null;if(i!=s.email){this.setState({error:"Current email isn't correct",alertModal:!0});return}if(i==""){this.setState({error:"Please input current email address",alertModal:!0});return}if(n==""){this.setState({error:"Please input new email address",alertModal:!0});return}if(r==""){this.setState({error:"Please confirm new email address",alertModal:!0});return}if(n!=r){this.setState({error:"New email doesn't match",alertModal:!0});return}var o=JSON.stringify({email:n}),l=s.token,h={method:"post",url:`${Ye}/api/update_email`,headers:{"Content-Type":"application/json",Authorization:"Bearer "+l},data:o};D(h).then(m=>{var M=s.refresh,k=s.userstatus;localStorage.setItem("userData",JSON.stringify({"status code":200,token:l,refresh:M,userstatus:k,email:m.data.email})),this.setState({error:"Email successfuly changed",alertModal:!0})}).catch(m=>{this.setState({error:"Another user uses that email",alertModal:!0})})});this.state={error:"",alertModal:!1,currentEmail:"",currentEmailFocus:!1,newEmail:"",newEmailFocus:!1,newEmailConfirm:"",newEmailConfirmFocus:!1}}componentDidMount(){document.title="Change Email | Eiyoo"}render(){const{currentEmail:a,currentEmailFocus:i,newEmail:n,newEmailFocus:r,newEmailConfirm:s,newEmailConfirmFocus:o,error:l,alertModal:h}=this.state;return t(f,{children:[t("div",{className:"profile profile-email-input",children:[t("div",{className:`top-input-box ${i?"focus":""}`,children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16.4",height:"12.576",viewBox:"0 0 16.4 12.576",children:e("g",{transform:"translate(0.2 -57.55)",children:t("g",{transform:"translate(0 57.75)",children:[e("path",{d:"M14.047,57.75H1.957A1.958,1.958,0,0,0,0,59.707V67.97a1.958,1.958,0,0,0,1.957,1.957H14.043A1.958,1.958,0,0,0,16,67.97V59.71A1.956,1.956,0,0,0,14.047,57.75Zm1.063,10.22a1.064,1.064,0,0,1-1.063,1.063H1.957A1.064,1.064,0,0,1,.894,67.97V59.71a1.064,1.064,0,0,1,1.063-1.063H14.043a1.064,1.064,0,0,1,1.063,1.063v8.26Z",transform:"translate(0 -57.75)",fill:"#fff",stroke:"#fff",strokeWidth:"0.4"}),e("path",{d:"M62.761,112.368l3.326-2.833a.35.35,0,0,0,.028-.511.4.4,0,0,0-.537-.027l-4.587,3.91-.895-.759s-.006-.005-.006-.008a.556.556,0,0,0-.062-.051l-3.641-3.1a.394.394,0,0,0-.537.029.348.348,0,0,0,.031.511l3.366,2.857-3.352,2.98a.35.35,0,0,0-.017.511.4.4,0,0,0,.279.115.392.392,0,0,0,.259-.1l3.4-3.023.923.783a.394.394,0,0,0,.507,0l.948-.807,3.382,3.052a.4.4,0,0,0,.537-.013.35.35,0,0,0-.014-.511Z",transform:"translate(-52.982 -106.361)",fill:"#fff",stroke:"#fff",strokeWidth:"0.4"})]})})}),e("input",{type:"email",value:a,onFocus:this.inputFocus("currentEmail"),onBlur:this.inputBlur("currentEmail"),onChange:this.inputChange("currentEmail")}),e("span",{children:"Current Email Address"})]}),t("div",{className:`top-input-box ${r?"focus":""}`,children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16.4",height:"12.576",viewBox:"0 0 16.4 12.576",children:e("g",{transform:"translate(0.2 -57.55)",children:t("g",{transform:"translate(0 57.75)",children:[e("path",{d:"M14.047,57.75H1.957A1.958,1.958,0,0,0,0,59.707V67.97a1.958,1.958,0,0,0,1.957,1.957H14.043A1.958,1.958,0,0,0,16,67.97V59.71A1.956,1.956,0,0,0,14.047,57.75Zm1.063,10.22a1.064,1.064,0,0,1-1.063,1.063H1.957A1.064,1.064,0,0,1,.894,67.97V59.71a1.064,1.064,0,0,1,1.063-1.063H14.043a1.064,1.064,0,0,1,1.063,1.063v8.26Z",transform:"translate(0 -57.75)",fill:"#fff",stroke:"#fff",strokeWidth:"0.4"}),e("path",{d:"M62.761,112.368l3.326-2.833a.35.35,0,0,0,.028-.511.4.4,0,0,0-.537-.027l-4.587,3.91-.895-.759s-.006-.005-.006-.008a.556.556,0,0,0-.062-.051l-3.641-3.1a.394.394,0,0,0-.537.029.348.348,0,0,0,.031.511l3.366,2.857-3.352,2.98a.35.35,0,0,0-.017.511.4.4,0,0,0,.279.115.392.392,0,0,0,.259-.1l3.4-3.023.923.783a.394.394,0,0,0,.507,0l.948-.807,3.382,3.052a.4.4,0,0,0,.537-.013.35.35,0,0,0-.014-.511Z",transform:"translate(-52.982 -106.361)",fill:"#fff",stroke:"#fff",strokeWidth:"0.4"})]})})}),e("input",{type:"email",value:n,onFocus:this.inputFocus("newEmail"),onBlur:this.inputBlur("newEmail"),onChange:this.inputChange("newEmail")}),e("span",{children:"New Email Address"})]}),t("div",{className:`top-input-box ${o?"focus":""}`,children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16.4",height:"12.576",viewBox:"0 0 16.4 12.576",children:e("g",{transform:"translate(0.2 -57.55)",children:t("g",{transform:"translate(0 57.75)",children:[e("path",{d:"M14.047,57.75H1.957A1.958,1.958,0,0,0,0,59.707V67.97a1.958,1.958,0,0,0,1.957,1.957H14.043A1.958,1.958,0,0,0,16,67.97V59.71A1.956,1.956,0,0,0,14.047,57.75Zm1.063,10.22a1.064,1.064,0,0,1-1.063,1.063H1.957A1.064,1.064,0,0,1,.894,67.97V59.71a1.064,1.064,0,0,1,1.063-1.063H14.043a1.064,1.064,0,0,1,1.063,1.063v8.26Z",transform:"translate(0 -57.75)",fill:"#fff",stroke:"#fff",strokeWidth:"0.4"}),e("path",{d:"M62.761,112.368l3.326-2.833a.35.35,0,0,0,.028-.511.4.4,0,0,0-.537-.027l-4.587,3.91-.895-.759s-.006-.005-.006-.008a.556.556,0,0,0-.062-.051l-3.641-3.1a.394.394,0,0,0-.537.029.348.348,0,0,0,.031.511l3.366,2.857-3.352,2.98a.35.35,0,0,0-.017.511.4.4,0,0,0,.279.115.392.392,0,0,0,.259-.1l3.4-3.023.923.783a.394.394,0,0,0,.507,0l.948-.807,3.382,3.052a.4.4,0,0,0,.537-.013.35.35,0,0,0-.014-.511Z",transform:"translate(-52.982 -106.361)",fill:"#fff",stroke:"#fff",strokeWidth:"0.4"})]})})}),e("input",{type:"email",value:s,onFocus:this.inputFocus("newEmailConfirm"),onBlur:this.inputBlur("newEmailConfirm"),onChange:this.inputChange("newEmailConfirm")}),e("span",{children:"Confirm Email Address"})]}),t("div",{className:"profile-link",children:[e("a",{onClick:this.updateEmail,children:"\u30D7\u30ED\u30D5\u30A3\u30FC\u30EB\u8A2D\u5B9A"}),e(S,{to:"/dashboard/profile/profile_update",children:"\u53D6\u6D88"})]})]}),e("div",{className:`modal ${h?"modal-show":""}`,onClick:this.modalClose,children:e("div",{className:"modal-body",onClick:this.modalClick,children:e("p",{children:l})})})]})}}const Ue="https://eiyoo-api.herokuapp.com";class qe extends d.exports.Component{constructor(a){super(a);c(this,"inputFocus",a=>i=>{this.setState({[`${a}Focus`]:!0})});c(this,"inputBlur",a=>i=>{i.target.value==""&&this.setState({[`${a}Focus`]:!1})});c(this,"inputChange",a=>i=>{this.setState({[a]:i.target.value})});c(this,"modalClose",a=>{this.setState({alertModal:!1})});c(this,"modalClick",a=>{a.stopPropagation()});c(this,"updatePassword",a=>{const{currentPassword:i,newPassword:n,newPasswordConfirm:r}=this.state;var s=JSON.parse(localStorage.getItem("userData"))||null;if(i==""){this.setState({error:"Please input current Password",alertModal:!0});return}if(n==""){this.setState({error:"Please input new Password",alertModal:!0});return}if(r==""){this.setState({error:"Please confirm new Password",alertModal:!0});return}if(n!=r){this.setState({error:"New Password doesn't match",alertModal:!0});return}var o=JSON.stringify({currentPass:i,newPass:n}),l=s.token,h={method:"post",url:`${Ue}/api/update_password`,headers:{"Content-Type":"application/json",Authorization:"Bearer "+l},data:o};D(h).then(m=>{this.setState({error:"Password update success",alertModal:!0})}).catch(m=>{this.setState({error:"Current Password incorrect",alertModal:!0})})});this.state={error:"",alertModal:!1,currentPassword:"",currentPasswordFocus:!1,newPassword:"",newPasswordFocus:!1,newPasswordConfirm:"",newPasswordConfirmFocus:!1}}componentDidMount(){document.title="Change Password | Eiyoo"}render(){const{currentPassword:a,currentPasswordFocus:i,newPassword:n,newPasswordFocus:r,newPasswordConfirm:s,newPasswordConfirmFocus:o,error:l,alertModal:h}=this.state;return t(f,{children:[t("div",{className:"profile profile-email-input",children:[t("div",{className:`top-input-box ${i?"focus":""}`,children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16",children:e("g",{transform:"translate(-245.5 -244)",children:t("g",{transform:"translate(245.5 244)",children:[e("circle",{cx:"0.938",cy:"0.938",r:"0.938",transform:"translate(9.45 9.756)",fill:"#fff"}),e("path",{d:"M258.875,258.125a.625.625,0,0,0,.625-.625v-5.125a2.5,2.5,0,0,0-2.5-2.5h-.751v-2.2a3.751,3.751,0,0,0-7.5,0v2.2H248a2.5,2.5,0,0,0-2.5,2.5V257.5A2.5,2.5,0,0,0,248,260h9a2.5,2.5,0,0,0,2.5-2.5.625.625,0,0,0-1.25,0,1.251,1.251,0,0,1-1.25,1.25h-9a1.251,1.251,0,0,1-1.25-1.25v-5.125a1.251,1.251,0,0,1,1.25-1.25h9a1.251,1.251,0,0,1,1.25,1.25V257.5A.625.625,0,0,0,258.875,258.125ZM255,249.875h-5v-2.2a2.5,2.5,0,0,1,5,0Z",transform:"translate(-245.5 -244)",fill:"#fff"}),e("circle",{cx:"0.938",cy:"0.938",r:"0.938",transform:"translate(4.963 9.756)",fill:"#fff"}),e("circle",{cx:"0.937",cy:"0.937",r:"0.937",transform:"translate(2.734 9.756)",fill:"#fff"}),e("circle",{cx:"0.938",cy:"0.938",r:"0.938",transform:"translate(7.192 9.756)",fill:"#fff"})]})})}),e("input",{type:"password",value:a,onFocus:this.inputFocus("currentPassword"),onBlur:this.inputBlur("currentPassword"),onChange:this.inputChange("currentPassword")}),e("span",{children:"Current Password"})]}),t("div",{className:`top-input-box ${r?"focus":""}`,children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16",children:e("g",{transform:"translate(-245.5 -244)",children:t("g",{transform:"translate(245.5 244)",children:[e("circle",{cx:"0.938",cy:"0.938",r:"0.938",transform:"translate(9.45 9.756)",fill:"#fff"}),e("path",{d:"M258.875,258.125a.625.625,0,0,0,.625-.625v-5.125a2.5,2.5,0,0,0-2.5-2.5h-.751v-2.2a3.751,3.751,0,0,0-7.5,0v2.2H248a2.5,2.5,0,0,0-2.5,2.5V257.5A2.5,2.5,0,0,0,248,260h9a2.5,2.5,0,0,0,2.5-2.5.625.625,0,0,0-1.25,0,1.251,1.251,0,0,1-1.25,1.25h-9a1.251,1.251,0,0,1-1.25-1.25v-5.125a1.251,1.251,0,0,1,1.25-1.25h9a1.251,1.251,0,0,1,1.25,1.25V257.5A.625.625,0,0,0,258.875,258.125ZM255,249.875h-5v-2.2a2.5,2.5,0,0,1,5,0Z",transform:"translate(-245.5 -244)",fill:"#fff"}),e("circle",{cx:"0.938",cy:"0.938",r:"0.938",transform:"translate(4.963 9.756)",fill:"#fff"}),e("circle",{cx:"0.937",cy:"0.937",r:"0.937",transform:"translate(2.734 9.756)",fill:"#fff"}),e("circle",{cx:"0.938",cy:"0.938",r:"0.938",transform:"translate(7.192 9.756)",fill:"#fff"})]})})}),e("input",{type:"password",value:n,onFocus:this.inputFocus("newPassword"),onBlur:this.inputBlur("newPassword"),onChange:this.inputChange("newPassword")}),e("span",{children:"New Password"})]}),t("div",{className:`top-input-box ${o?"focus":""}`,children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16",children:e("g",{transform:"translate(-245.5 -244)",children:t("g",{transform:"translate(245.5 244)",children:[e("circle",{cx:"0.938",cy:"0.938",r:"0.938",transform:"translate(9.45 9.756)",fill:"#fff"}),e("path",{d:"M258.875,258.125a.625.625,0,0,0,.625-.625v-5.125a2.5,2.5,0,0,0-2.5-2.5h-.751v-2.2a3.751,3.751,0,0,0-7.5,0v2.2H248a2.5,2.5,0,0,0-2.5,2.5V257.5A2.5,2.5,0,0,0,248,260h9a2.5,2.5,0,0,0,2.5-2.5.625.625,0,0,0-1.25,0,1.251,1.251,0,0,1-1.25,1.25h-9a1.251,1.251,0,0,1-1.25-1.25v-5.125a1.251,1.251,0,0,1,1.25-1.25h9a1.251,1.251,0,0,1,1.25,1.25V257.5A.625.625,0,0,0,258.875,258.125ZM255,249.875h-5v-2.2a2.5,2.5,0,0,1,5,0Z",transform:"translate(-245.5 -244)",fill:"#fff"}),e("circle",{cx:"0.938",cy:"0.938",r:"0.938",transform:"translate(4.963 9.756)",fill:"#fff"}),e("circle",{cx:"0.937",cy:"0.937",r:"0.937",transform:"translate(2.734 9.756)",fill:"#fff"}),e("circle",{cx:"0.938",cy:"0.938",r:"0.938",transform:"translate(7.192 9.756)",fill:"#fff"})]})})}),e("input",{type:"password",value:s,onFocus:this.inputFocus("newPasswordConfirm"),onBlur:this.inputBlur("newPasswordConfirm"),onChange:this.inputChange("newPasswordConfirm")}),e("span",{children:"Confirm Password"})]}),t("div",{className:"profile-link",children:[e("a",{onClick:this.updatePassword,children:"\u30D7\u30ED\u30D5\u30A3\u30FC\u30EB\u8A2D\u5B9A"}),e(S,{to:"/dashboard/profile/profile_update",children:"\u53D6\u6D88"})]})]}),e("div",{className:`modal ${h?"modal-show":""}`,onClick:this.modalClose,children:e("div",{className:"modal-body",onClick:this.modalClick,children:e("p",{children:l})})})]})}}const fe="https://eiyoo-api.herokuapp.com";function Ke(){const p=Y(),[a,i]=d.exports.useState([]),n=()=>{var r=JSON.parse(localStorage.getItem("userData"))||null;if(r!=null)var s=r.token;var o={method:"post",url:`${fe}/api/get_user_list`,headers:{"Content-Type":"application/json",Authorization:"Bearer "+s}};D(o).then(l=>{i(l.data.users)}).catch(l=>{})};return d.exports.useEffect(()=>{document.title="Data | Eiyoo",n(),setInterval(()=>n(),2e3)},[]),e(f,{children:t("div",{className:"data",children:[e("h2",{children:"\u4F1A\u54E1\u306E\u98DF\u4E8B\u8A18\u9332\u3092\u898B\u308B"}),e("div",{className:"data-user-container",children:a.map(r=>t("a",{onClick:()=>p("detail",{state:{pk:r.pk}}),children:[r.countUnreadMeals>0?e("div",{children:r.countUnreadMeals}):e(f,{}),e("img",{src:r.avatar==null?"/assets/img/avatar.jpg":`${fe}/media/${r.avatar}`,alt:""}),t("p",{children:[r.name1," ",r.name2]})]},r.pk))})]})})}const ee="https://eiyoo-api.herokuapp.com";function Ge(){const p=Y(),i=X().state.pk,n=new Date,[r,s]=d.exports.useState(n),[o,l]=d.exports.useState([]),[h,m]=d.exports.useState([]),[M,k]=d.exports.useState([]),[B,A]=d.exports.useState(""),[b,P]=d.exports.useState(""),[V,u]=d.exports.useState(""),[_,x]=d.exports.useState(""),[F,C]=d.exports.useState(""),[g,L]=d.exports.useState(""),[T,W]=d.exports.useState(""),[Q,q]=d.exports.useState(""),[K,N]=d.exports.useState("");function w(v,Z){return new Date(Z,v,0).getDate()}const O=()=>{var v=new Date(r);v.setDate(r.getDate()+1),s(v)},I=()=>{var v=new Date(r);v.setDate(r.getDate()-1),s(v)},z=()=>{var v=new Date(r.getFullYear(),r.getMonth()+1,r.getDate());s(v)},R=()=>{var v=new Date(r.getFullYear(),r.getMonth()-1,r.getDate());s(v)};function j(v){var Z=new Date(r.getFullYear(),r.getMonth(),v);s(Z)}function G(v){var Z=new Date(r.getFullYear(),r.getMonth()+1,v);s(Z)}function H(v){var Z=new Date(r.getFullYear(),r.getMonth()-1,v);s(Z)}const we=()=>{s(n)};d.exports.useEffect(()=>{document.title="Data | Eiyoo";const v=new Date(r.getFullYear(),r.getMonth(),1).getDay();var Z=w(r.getMonth(),r.getFullYear()),te=w(r.getMonth()+1,r.getFullYear());const ae=new Date(r.getFullYear(),r.getMonth(),te).getDay();var re=[],E=[],de=[];for(let J=0;J<v;J++)re.push(Z-v+J+1);for(let J=1;J<=te;J++)E.push(J);for(let J=ae;J<6;J++)de.push(J-ae+1);m(E),l(re),k(de),Ce()},[r]);function Ce(){var v=JSON.parse(localStorage.userData),Z=v.token,te=oe(r).format("YYYY-MM-DD HH:mm"),ae=JSON.stringify({date:te,pk:i}),re={method:"post",url:`${ee}/api/get_user_mealData`,headers:{"content-type":"application/json",Authorization:"Bearer "+Z},data:ae};D(re).then(E=>{E.data.user.avatar!=null&&A(E.data.user.avatar),E.data.user.name1!=null&&P(E.data.user.name1),E.data.user.name2!=null&&u(E.data.user.name1),E.data.meal.meal1.length==1?(x(`${ee}/media/${E.data.meal.meal1[0].photo}`),W(E.data.meal.meal1[0].content)):(x(""),W("")),E.data.meal.meal2.length==1?(C(`${ee}/media/${E.data.meal.meal2[0].photo}`),q(E.data.meal.meal2[0].content)):(C(""),q("")),E.data.meal.meal3.length==1?(L(`${ee}/media/${E.data.meal.meal3[0].photo}`),N(E.data.meal.meal3[0].content)):(L(""),N(""))}).catch(E=>{})}return e(f,{children:t("div",{className:"data",children:[t("a",{className:"back-btn",onClick:()=>p(-1),children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12.414",height:"22.828",viewBox:"0 0 12.414 22.828",children:e("g",{transform:"translate(-4 -2.086)",children:e("g",{transform:"translate(5 3.5)",children:e("path",{d:"M15,3.5,5,13.5l10,10",transform:"translate(-5 -3.5)",fill:"none",stroke:"#fff",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",strokeWidth:"2"})})})}),e("span",{children:"Back"})]}),e("h2",{children:"\u4F1A\u54E1\u306E\u98DF\u4E8B\u8A18\u9332\u3092\u898B\u308B"}),t("div",{className:"data-detail-user",children:[e("img",{src:B==""?"/assets/img/avatar.jpg":`${ee}/media/${B}`,alt:""}),t("p",{children:[b," ",V]})]}),t("div",{className:"record",children:[t("div",{className:"record-date",children:[e("a",{onClick:I,children:e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"7.828",height:"13.046",viewBox:"0 0 7.828 13.046",children:e("path",{d:"M6.523,7.827a1.184,1.184,0,0,1-.913-.391L.391,2.218a1.261,1.261,0,0,1,0-1.826,1.261,1.261,0,0,1,1.826,0L6.523,4.7,10.828.391a1.261,1.261,0,0,1,1.826,0,1.261,1.261,0,0,1,0,1.826L7.436,7.436A1.184,1.184,0,0,1,6.523,7.827Z",transform:"translate(7.827 0) rotate(90)",fill:"#fff"})})}),e("p",{children:r.getFullYear().toString()+"\u5E74"+(r.getMonth()+1).toString()+"\u6708"+r.getDate().toString()+"\u65E5"}),e("a",{onClick:O,children:e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"7.828",height:"13.046",viewBox:"0 0 7.828 13.046",children:e("path",{d:"M6.523,7.827a1.184,1.184,0,0,1-.913-.391L.391,2.218a1.261,1.261,0,0,1,0-1.826,1.261,1.261,0,0,1,1.826,0L6.523,4.7,10.828.391a1.261,1.261,0,0,1,1.826,0,1.261,1.261,0,0,1,0,1.826L7.436,7.436A1.184,1.184,0,0,1,6.523,7.827Z",transform:"translate(0 13.046) rotate(-90)",fill:"#fff"})})})]}),t("div",{className:"record-main",children:[e("div",{className:"record-card",children:e("table",{children:e("tbody",{children:t("tr",{children:[e("td",{children:"\u671D\u3054\u98EF"}),e("td",{children:_!=""?e("div",{children:e("img",{src:_,alt:""})}):e(f,{})}),e("td",{children:_!=""?e("p",{children:T}):e(f,{})})]})})})}),e("div",{className:"record-card",children:e("table",{children:e("tbody",{children:t("tr",{children:[e("td",{children:"\u663C\u3054\u98EF"}),e("td",{children:F!=""?e("div",{children:e("img",{src:F,alt:""})}):e(f,{})}),e("td",{children:F!=""?e("p",{children:Q}):e(f,{})})]})})})}),e("div",{className:"record-card",children:e("table",{children:e("tbody",{children:t("tr",{children:[e("td",{children:"\u591C\u3054\u98EF"}),e("td",{children:g!=""?e("div",{children:e("img",{src:g,alt:""})}):e(f,{})}),e("td",{children:g!=""?e("p",{children:K}):e(f,{})})]})})})}),e("div",{children:e("a",{className:"data-evaluation",onClick:()=>p("evaluation",{state:{date:r,pk:i}}),children:"1\u65E5\u306E\u8A55\u4FA1\u3092\u3059\u308B"})})]}),t("div",{className:"record-calendar",children:[t("div",{className:"record-calendar-header",children:[e("h4",{children:r.getFullYear().toString()+"\u5E74"+(r.getMonth()+1).toString()+"\u6708"}),t("div",{className:"record-calendar-header-link",children:[e("a",{onClick:we,className:"record-calendar-today",children:"\u4ECA\u65E5"}),e("a",{onClick:R,children:r.getMonth()==0?"12\u6708":r.getMonth().toString()+"\u6708"}),e("a",{onClick:z,children:r.getMonth()==11?"1\u6708":(r.getMonth()+2).toString()+"\u6708"})]})]}),t("div",{className:"record-calendar-body",children:[t("div",{className:"record-calendar-week",children:[e("p",{children:"\u65E5"}),e("p",{children:"\u6708"}),e("p",{children:"\u706B"}),e("p",{children:"\u6C34"}),e("p",{children:"\u6728"}),e("p",{children:"\u91D1"}),e("p",{children:"\u571F"})]}),t("div",{className:"record-calendar-main",children:[o.map(v=>e("div",{children:e("a",{onClick:()=>H(v),className:"notthis",children:v})},v)),h.map(v=>e("div",{children:e("a",{onClick:()=>j(v),className:`${new Date(r.getFullYear(),r.getMonth(),v).setHours(0,0,0,0)==new Date(n.getFullYear(),n.getMonth(),n.getDate()).setHours(0,0,0,0)?"today":""} ${v===r.getDate()?"current":""}`,children:v})},v)),M.map(v=>e("div",{children:e("a",{onClick:()=>G(v),className:"notthis",children:v})},v))]})]})]})]})]})})}const ue="https://eiyoo-api.herokuapp.com";function Qe(){const p=Y(),a=X(),i=a.state.pk,n=a.state.date,r=new Date,[s,o]=d.exports.useState(r),[l,h]=d.exports.useState([]),[m,M]=d.exports.useState([]),[k,B]=d.exports.useState([]),[A,b]=d.exports.useState(""),[P,V]=d.exports.useState(""),[u,_]=d.exports.useState(""),[x,F]=d.exports.useState(!1);function C(w,O){return new Date(O,w,0).getDate()}const g=()=>{var w=new Date(s.getFullYear(),s.getMonth()+1,s.getDate());o(w)},L=()=>{var w=new Date(s.getFullYear(),s.getMonth()-1,s.getDate());o(w)};function T(w){var O=new Date(s.getFullYear(),s.getMonth(),w);o(O)}function W(w){var O=new Date(s.getFullYear(),s.getMonth()+1,w);o(O)}function Q(w){var O=new Date(s.getFullYear(),s.getMonth()-1,w);o(O)}const q=()=>{o(r)};d.exports.useEffect(()=>{o(n)},[n]),d.exports.useEffect(()=>{document.title="Data | Eiyoo";const w=new Date(s.getFullYear(),s.getMonth(),1).getDay();var O=C(s.getMonth(),s.getFullYear()),I=C(s.getMonth()+1,s.getFullYear());const z=new Date(s.getFullYear(),s.getMonth(),I).getDay();var R=[],j=[],G=[];for(let H=0;H<w;H++)R.push(O-w+H+1);for(let H=1;H<=I;H++)j.push(H);for(let H=z;H<6;H++)G.push(H-z+1);M(j),h(R),B(G),K()},[s]);async function K(){var w=JSON.parse(localStorage.userData),O=w.token,I=oe(s).format("YYYY-MM-DD HH:mm"),z=JSON.stringify({date:I,pk:i}),R={method:"post",url:`${ue}/api/get_user_mealData`,headers:{"content-type":"application/json",Authorization:"Bearer "+O},data:z};D(R).then(j=>{j.data.user.avatar!=null&&b(j.data.user.avatar),j.data.user.name1!=null&&V(j.data.user.name1),j.data.user.name2!=null&&_(j.data.user.name1)}).catch(j=>{})}async function N(w){var O=JSON.parse(localStorage.userData),I=O.token,z=oe(s).format("YYYY-MM-DD HH:mm"),R=JSON.stringify({date:z,pk:i,evaluation:w}),j={method:"post",url:`${ue}/api/advisor_evaluation`,headers:{"content-type":"application/json",Authorization:"Bearer "+I},data:R};D(j).then(G=>{}).catch(G=>{})}return t(f,{children:[t("div",{className:"data",children:[t("a",{className:"back-btn",onClick:()=>p(-1),children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12.414",height:"22.828",viewBox:"0 0 12.414 22.828",children:e("g",{transform:"translate(-4 -2.086)",children:e("g",{transform:"translate(5 3.5)",children:e("path",{d:"M15,3.5,5,13.5l10,10",transform:"translate(-5 -3.5)",fill:"none",stroke:"#fff",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",strokeWidth:"2"})})})}),e("span",{children:"Back"})]}),e("h2",{children:"\u4F1A\u54E1\u306E\u98DF\u4E8B\u8A18\u9332\u3092\u898B\u308B"}),t("div",{className:"data-detail-user",children:[e("img",{src:A==""?"/assets/img/avatar.jpg":`${ue}/media/${A}`,alt:""}),t("p",{children:[P," ",u]})]}),t("div",{className:"record",children:[t("div",{className:"record-date record-devaluation-date",children:[e("a",{onClick:L,children:e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"7.828",height:"13.046",viewBox:"0 0 7.828 13.046",children:e("path",{d:"M6.523,7.827a1.184,1.184,0,0,1-.913-.391L.391,2.218a1.261,1.261,0,0,1,0-1.826,1.261,1.261,0,0,1,1.826,0L6.523,4.7,10.828.391a1.261,1.261,0,0,1,1.826,0,1.261,1.261,0,0,1,0,1.826L7.436,7.436A1.184,1.184,0,0,1,6.523,7.827Z",transform:"translate(7.827 0) rotate(90)",fill:"#fff"})})}),e("p",{children:s.getFullYear().toString()+"\u5E74"+(s.getMonth()+1).toString()+"\u6708"}),e("a",{onClick:g,children:e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"7.828",height:"13.046",viewBox:"0 0 7.828 13.046",children:e("path",{d:"M6.523,7.827a1.184,1.184,0,0,1-.913-.391L.391,2.218a1.261,1.261,0,0,1,0-1.826,1.261,1.261,0,0,1,1.826,0L6.523,4.7,10.828.391a1.261,1.261,0,0,1,1.826,0,1.261,1.261,0,0,1,0,1.826L7.436,7.436A1.184,1.184,0,0,1,6.523,7.827Z",transform:"translate(0 13.046) rotate(-90)",fill:"#fff"})})})]}),t("div",{className:"record-calendar",children:[t("div",{className:"record-calendar-header",children:[e("h4",{children:s.getFullYear().toString()+"\u5E74"+(s.getMonth()+1).toString()+"\u6708"}),t("div",{className:"record-calendar-header-link",children:[e("a",{onClick:q,className:"record-calendar-today",children:"\u4ECA\u65E5"}),e("a",{onClick:L,children:s.getMonth()==0?"12\u6708":s.getMonth().toString()+"\u6708"}),e("a",{onClick:g,children:s.getMonth()==11?"1\u6708":(s.getMonth()+2).toString()+"\u6708"})]})]}),t("div",{className:"record-calendar-body",children:[t("div",{className:"record-calendar-week",children:[e("p",{children:"\u65E5"}),e("p",{children:"\u6708"}),e("p",{children:"\u706B"}),e("p",{children:"\u6C34"}),e("p",{children:"\u6728"}),e("p",{children:"\u91D1"}),e("p",{children:"\u571F"})]}),t("div",{className:"record-calendar-main",children:[l.map(w=>t("div",{children:[e("p",{className:"notthis",children:w}),e("a",{className:"evaluate",onClick:()=>(Q(w),F(!0))})]},w)),m.map(w=>t("div",{children:[e("p",{className:`${new Date(s.getFullYear(),s.getMonth(),w).setHours(0,0,0,0)==new Date(r.getFullYear(),r.getMonth(),r.getDate()).setHours(0,0,0,0)?"today":""}`,children:w}),e("a",{className:"evaluate",onClick:()=>(T(w),F(!0))})]},w)),k.map(w=>t("div",{children:[e("p",{className:"notthis",children:w}),e("a",{className:"evaluate",onClick:()=>(W(w),F(!0))})]},w))]})]})]})]})]}),e("div",{className:`modal ${x?"modal-show":""}`,onClick:()=>F(!1),children:t("div",{className:"modal-body",children:[t("h3",{children:[(s.getMonth()+1).toString(),"\u6708",s.getDate().toString(),"\u65E5\u306E\u30C7\u30FC\u30BF"]}),e("p",{children:"\u3069\u306E\u8A55\u4FA1\u3092\u4ED8\u3051\u307E\u3059\u304B\uFF1F"}),t("div",{className:"modal-eval",children:[e("a",{onClick:()=>N(1),children:e("img",{src:"/assets/img/eval1.png",alt:""})}),e("a",{onClick:()=>N(2),children:e("img",{src:"/assets/img/eval2.png",alt:""})}),e("a",{onClick:()=>N(3),children:e("img",{src:"/assets/img/eval3.png",alt:""})}),e("a",{onClick:()=>N(4),children:e("img",{src:"/assets/img/eval4.png",alt:""})}),e("a",{onClick:()=>N(5),children:e("img",{src:"/assets/img/eval5.png",alt:""})})]}),e("a",{className:"modal-cancel-btn",onClick:()=>F(!1),children:"\u30AD\u30E3\u30F3\u30BB\u30EB"})]})})]})}const ge="https://eiyoo-api.herokuapp.com";function Xe(){const p=Y(),[a,i]=d.exports.useState([]);async function n(){var r=JSON.parse(localStorage.getItem("userData"))||null;if(r!=null)var s=r.token;var o={method:"post",url:`${ge}/api/get_user_list`,headers:{"Content-Type":"application/json",Authorization:"Bearer "+s}};await D(o).then(l=>{i(l.data.users)}).catch(l=>{})}return d.exports.useEffect(()=>{document.title="Record | Eiyoo",n()},[]),e(f,{children:t("div",{className:"data",children:[e("h2",{children:"\u4E00\u8A00\u3092\u767B\u9332\u3059\u308B"}),e("div",{className:"data-user-container",children:a.map(r=>t("a",{onClick:()=>p("detail",{state:{pk:r.pk}}),children:[e("img",{src:r.avatar==null?"/assets/img/avatar.jpg":`${ge}/media/${r.avatar}`,alt:""}),t("p",{children:[r.name1," ",r.name2]})]},r.pk))})]})})}const ce="https://eiyoo-api.herokuapp.com";function et(){const p=Y(),i=X().state.pk,[n,r]=d.exports.useState(""),[s,o]=d.exports.useState(""),[l,h]=d.exports.useState(""),[m,M]=d.exports.useState(""),[k,B]=d.exports.useState(""),[A,b]=d.exports.useState(!1);d.exports.useEffect(()=>{document.title="Record | Eiyoo",P()},[n]);async function P(){var u=JSON.parse(localStorage.userData),_=u.token,x=JSON.stringify({pk:i}),F={method:"post",url:`${ce}/api/get_user_word`,headers:{"content-type":"application/json",Authorization:"Bearer "+_},data:x};await D(F).then(C=>{C.data.user.avatar!=null&&r(C.data.user.avatar),C.data.user.name1!=null&&o(C.data.user.name1),C.data.user.name2!=null&&h(C.data.user.name1),C.data.word!=null&&M(C.data.word)}).catch(C=>{})}async function V(){var u=JSON.parse(localStorage.userData),_=u.token,x=JSON.stringify({content:m,pk:i}),F={method:"post",url:`${ce}/api/set_user_word`,headers:{"content-type":"application/json",Authorization:"Bearer "+_},data:x};await D(F).then(C=>{B("\u4E00\u8A00\u304C\u767B\u9332\u3057\u307E\u3057\u305F\u3002"),b(!0)}).catch(C=>{B("\u4E00\u8A00\u767B\u9332\u304C\u5931\u6557\u3057\u307E\u3057\u305F\u3002"),b(!0)})}return t(f,{children:[t("div",{className:"data",children:[t("a",{className:"back-btn",onClick:()=>p(-1),children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12.414",height:"22.828",viewBox:"0 0 12.414 22.828",children:e("g",{transform:"translate(-4 -2.086)",children:e("g",{transform:"translate(5 3.5)",children:e("path",{d:"M15,3.5,5,13.5l10,10",transform:"translate(-5 -3.5)",fill:"none",stroke:"#fff",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",strokeWidth:"2"})})})}),e("span",{children:"Back"})]}),t("div",{className:"data-detail-user",children:[e("img",{src:n==""?"/assets/img/avatar.jpg":`${ce}/media/${n}`,alt:""}),t("p",{children:[s," ",l]})]}),e("div",{className:"record",children:t("div",{className:"record-word",children:[e("textarea",{rows:5,defaultValue:m,onChange:u=>M(u.target.value)}),e("a",{onClick:V,children:"\u4E00\u8A00\u3092\u767B\u9332\u3059\u308B"})]})})]}),e("div",{className:`modal ${A?"modal-show":""}`,onClick:()=>b(!1),children:e("div",{className:"modal-body",onClick:u=>u.stopPropagation(),children:e("p",{children:k})})})]})}const ve="https://eiyoo-api.herokuapp.com";function tt(){const p=Y(),[a,i]=d.exports.useState([]);async function n(){var r=JSON.parse(localStorage.getItem("userData"))||null;if(r!=null)var s=r.token;var o={method:"post",url:`${ve}/api/get_user_list`,headers:{"Content-Type":"application/json",Authorization:"Bearer "+s}};await D(o).then(l=>{i(l.data.users)}).catch(l=>{})}return d.exports.useEffect(()=>{n(),setInterval(()=>n(),2e3)},[]),e(f,{children:e("div",{className:"message",children:t("div",{className:"message-user-container",children:[e("h2",{children:"\u4F1A\u54E1\u4E00\u89A7\u30E1\u30C3\u30BB\u30F3\u30B8\u30E3\u30FC"}),e("div",{className:"message-user",children:a.map(r=>t("a",{onClick:()=>p("detail",{state:{pk:r.pk}}),children:[r.countunreadMessages>0?e("div",{className:"notice",children:r.countunreadMessages}):e(f,{}),e("img",{src:r.avatar==null?"/assets/img/avatar.jpg":`${ve}/media/${r.avatar}`,alt:""}),t("div",{className:"message-user-content",children:[t("h4",{children:[r.name1," ",r.name2]}),e("p",{children:r.lastMessage.length==0?e(f,{}):r.lastMessage[r.lastMessage.length-1].content!=""?e("span",{dangerouslySetInnerHTML:{__html:r.lastMessage[r.lastMessage.length-1].content}}):"Image"}),e("p",{className:"message-user-time",children:r.lastMessage.length==0?e(f,{}):new Date(r.lastMessage[r.lastMessage.length-1].created_at).getHours()+":"+new Date(r.lastMessage[r.lastMessage.length-1].created_at).getMinutes()})]})]},r.pk))})]})})})}const U="https://eiyoo-api.herokuapp.com";function at(){const p=Y(),i=X().state.pk,[n,r]=d.exports.useState(""),[s,o]=d.exports.useState(""),[l,h]=d.exports.useState(""),[m,M]=d.exports.useState([]),k=d.exports.useRef(),B=u=>{u.keyCode===13&&u.ctrlKey?(r(n+`
`),u.target.style.height="auto",u.target.style.height=u.target.scrollHeight+"px"):u.keyCode===13&&u.shiftKey||u.keyCode===8?(u.target.style.height="auto",u.target.style.height=u.target.scrollHeight+"px"):u.keyCode===13&&console.log(n)};d.exports.useEffect(()=>{document.title="Message | Eiyoo",A(),setInterval(()=>A(),2e3),b()},[i]);async function A(){var u=JSON.parse(localStorage.getItem("userData"))||null;if(u!=null)var _=u.token;if(i!=""){var x=JSON.stringify({pk:i}),F={method:"post",url:`${U}/api/advisor_get_message`,headers:{"Content-Type":"application/json",Authorization:"Bearer "+_},data:x};await D(F).then(C=>{let g=C.data;g.advisorAvatar!=null&&o(g.advisorAvatar),g.userAvatar!=null&&h(g.userAvatar),M(g.message)}).catch(C=>{})}}async function b(){var u=JSON.parse(localStorage.getItem("userData"))||null;if(u!=null)var _=u.token;if(i!=""){var x=JSON.stringify({pk:i}),F={method:"post",url:`${U}/api/advisor_set_read_message`,headers:{"Content-Type":"application/json",Authorization:"Bearer "+_},data:x};await D(F).then(C=>{}).catch(C=>{})}}async function P(){var u=JSON.parse(localStorage.getItem("userData"))||null;if(u!=null)var _=u.token;var x=new FormData;if(n!=""){x.append("pk",i),x.append("message",n),x.append("photo",null);var F={method:"post",url:`${U}/api/advisor_send_message`,headers:{"Content-Type":"application/json",Authorization:"Bearer "+_},data:x};await D(F).then(C=>{r("")}).catch(C=>{})}}const V=u=>{let _=u.target.files[0];var x=JSON.parse(localStorage.getItem("userData"))||null;if(x!=null)var F=x.token;var C=new FormData;C.append("pk",i),C.append("message",""),C.append("photo",_);var g={method:"post",url:`${U}/api/user_send_message`,headers:{"Content-Type":"application/json",Authorization:"Bearer "+F},data:C};D(g).then(L=>{}).catch(L=>{})};return e(f,{children:e("div",{className:"message message-detail",children:t("div",{className:"message-container",children:[t("div",{className:"message-content",children:[t("a",{className:"message-content-back back-btn",onClick:()=>p(-1),children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12.414",height:"22.828",viewBox:"0 0 12.414 22.828",children:e("g",{transform:"translate(-4 -2.086)",children:e("g",{transform:"translate(5 3.5)",children:e("path",{d:"M15,3.5,5,13.5l10,10",transform:"translate(-5 -3.5)",fill:"none",stroke:"#fff",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",strokeWidth:"2"})})})}),e("span",{children:"Back"})]}),e("h2",{children:"\u4F1A\u54E1\u4E00\u89A7\u30E1\u30C3\u30BB\u30F3\u30B8\u30E3\u30FC"}),e("div",{className:"message-content-main",children:e("div",{className:"message-content-main1",children:m.map(u=>t("div",{className:`message-card ${u.send?"receive":"send"} ${u.quick?"quick":"unquick"} ${u.first?"first":""}`,children:[u.first?e("img",{className:"avatar",src:l!=""?`${U}/media/${l}`:"/assets/img/avatar.jpg",alt:""}):e(f,{}),t("div",{className:"message-card-main",children:[u.photo!=""?e("img",{className:"content",src:`${U}/media/${u.photo}`,alt:""}):e(f,{}),u.content!=""?e("div",{className:"content",children:e("p",{children:u.content})}):e(f,{})]}),u.send?e(f,{}):u.quick?e(f,{}):e("img",{className:"avatar",src:s!=""?`${U}/media/${s}`:"/assets/img/avatar.jpg",alt:""}),u.quick?e(f,{}):e("p",{className:"message-card-time",children:new Date(u.created_at).getHours()+":"+new Date(u.created_at).getMinutes()})]},u.pk))})})]}),t("div",{className:"message-input",children:[t("div",{className:"message-input-photo",children:[e("input",{type:"file",onChange:u=>V(u),ref:k,multiple:!0,hidden:!0,capture:"camera",accept:"image/*"}),e("a",{onClick:()=>k.current.click(),children:e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22.857",height:"20",viewBox:"0 0 22.857 20",children:e("path",{d:"M22.857,7.25V20.107a2.143,2.143,0,0,1-2.143,2.143H2.143A2.143,2.143,0,0,1,0,20.107V7.25A2.143,2.143,0,0,1,2.143,5.107H6.071l.549-1.469a2.14,2.14,0,0,1,2-1.388h5.6a2.14,2.14,0,0,1,2,1.388l.554,1.469h3.929A2.143,2.143,0,0,1,22.857,7.25Zm-6.071,6.429a5.357,5.357,0,1,0-5.357,5.357A5.361,5.361,0,0,0,16.786,13.679Zm-1.429,0A3.929,3.929,0,1,1,11.429,9.75,3.934,3.934,0,0,1,15.357,13.679Z",transform:"translate(0 -2.25)",fill:"#f8f8f8"})})})]}),t("div",{className:"message-input-main",children:[e("textarea",{name:"",id:"",rows:1,value:n,onChange:u=>r(u.target.value),onKeyDown:B}),e("a",{onClick:P,children:e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24.631",height:"24.191",viewBox:"0 0 24.631 24.191",children:t("g",{transform:"translate(12.096 1.061) rotate(45)",children:[e("line",{x1:"7.667",y2:"7.667",transform:"translate(7.939 0)",fill:"none",stroke:"#fff",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"}),e("path",{d:"M15.606,0,12.392,15.606,7.939,7.667,0,3.214Z",transform:"translate(0 0)",fill:"none",stroke:"#fff",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"})]})})})]})]})]})})})}class rt extends d.exports.Component{componentDidMount(){document.title="Page Not Found | Eiyoo"}render(){return e(f,{children:t("div",{className:"top",children:[e("h1",{className:"not-found",children:"404"}),e("p",{className:"not-found",children:"Page not found"})]})})}}var y=JSON.parse(localStorage.getItem("userData"))||null;const st=[{path:"dashboard",element:y&&y.userstatus!=0?e(We,{}):e($,{to:"/login"}),children:[{path:"",element:y&&y.userstatus!=0?e($,{to:"home"}):e($,{to:"/login"})},{path:"home",element:y&&y.userstatus!=0?e(ze,{}):e($,{to:"/login"})},{path:"profile",element:y&&y.userstatus!=0?e(me,{}):e($,{to:"/login"})},{path:"profile/profile_update",element:y&&y.userstatus!=0?e(Re,{}):e($,{to:"/login"})},{path:"profile/change_email",element:y&&y.userstatus!=0?e(Te,{}):e($,{to:"/login"})},{path:"profile/change_password",element:y&&y.userstatus!=0?e(qe,{}):e($,{to:"/login"})},{path:"record",element:y&&y.userstatus!=0?e(Xe,{}):e($,{to:"/login"})},{path:"record/detail",element:y&&y.userstatus!=0?e(et,{}):e($,{to:"/login"})},{path:"data",element:y&&y.userstatus!=0?e(Ke,{}):e($,{to:"/login"})},{path:"data/detail",element:y&&y.userstatus!=0?e(Ge,{}):e($,{to:"/login"})},{path:"data/detail/evaluation",element:y&&y.userstatus!=0?e(Qe,{}):e($,{to:"/login"})},{path:"message",element:y&&y.userstatus!=0?e(tt,{}):e($,{to:"/login"})},{path:"message/detail",element:y&&y.userstatus!=0?e(at,{}):e($,{to:"/login"})},{path:"inquiry",element:y&&y.userstatus!=0?e(me,{}):e($,{to:"/login"})},{path:"*",element:e($,{to:"/404"})}]},{path:"/",children:[{path:"",element:e(Be,{})},{path:"login",element:e(Ee,{})},{path:"signup",element:e($e,{})},{path:"password_reset",element:e(Le,{})},{path:"password_reset/*",element:e(Oe,{})},{path:"email_verify",element:e(Ve,{})},{path:"terms_service",element:e(je,{})},{path:"privacy_policy",element:e(He,{})},{path:"404",element:e(rt,{})},{path:"*",element:e($,{to:"/404"})}]}],it=()=>Se(st),nt=()=>e("div",{className:"container",children:e(ye,{children:e(it,{})})});Fe.render(e(xe.StrictMode,{children:e(nt,{})}),document.getElementById("root"));
